<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2&nbsp; PCA – Unsupervised Machine Learning</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./03-references.html" rel="next">
<link href="./01-cluster-analysis.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./02-pca.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">PCA</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Unsupervised Machine Learning</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-cluster-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Cluster Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-pca.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">PCA</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#intuition" id="toc-intuition" class="nav-link active" data-scroll-target="#intuition"><span class="header-section-number">2.1</span> Intuition</a></li>
  <li><a href="#matrix-algebra" id="toc-matrix-algebra" class="nav-link" data-scroll-target="#matrix-algebra"><span class="header-section-number">2.2</span> Matrix Algebra</a></li>
  <li><a href="#case-study" id="toc-case-study" class="nav-link" data-scroll-target="#case-study"><span class="header-section-number">2.3</span> Case Study</a></li>
  <li><a href="#assumptions" id="toc-assumptions" class="nav-link" data-scroll-target="#assumptions"><span class="header-section-number">2.4</span> Assumptions</a></li>
  <li><a href="#perform-pca" id="toc-perform-pca" class="nav-link" data-scroll-target="#perform-pca"><span class="header-section-number">2.5</span> Perform PCA</a></li>
  <li><a href="#appendix-eigenvectors" id="toc-appendix-eigenvectors" class="nav-link" data-scroll-target="#appendix-eigenvectors"><span class="header-section-number">2.6</span> Appendix: Eigenvectors</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="sec-pca" class="quarto-section-identifier"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">PCA</span></span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Machine learning datasets often have an enormous number of columns, many of which are correlated because they essentially measure the same latent construct. You could drop redundant columns, but sometimes the redundancy is not obvious, hidden in combinations of columns. Principle components analysis (PCA) reduces the number of columns to a few, interpretable linear combinations while retaining as much information as possible.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<section id="intuition" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="intuition"><span class="header-section-number">2.1</span> Intuition</h2>
<p><span class="citation" data-cites="shlens2014tutorial">Shlens (<a href="03-references.html#ref-shlens2014tutorial" role="doc-biblioref">2014</a>)</span> introduces PCA with a toy example where the movement of an oscillating spring is monitored by cameras from three positions in a room. Each camera produces a two-dimensional dataset of x and y coordinates, six vectors of numbers altogether. The physical reality is there is only one dimension of movement. PCA should be able to reduce the six vectors into a single principle component.</p>
<p>I’ll simplify the example somewhat to make the math easier. I’ll locate the three cameras in the same spot, x = 0 and y = 0, and rotate them 15 degrees, 45 degrees, and 150 degrees respectively.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 100 photos of the end of the spring taken over 10s of motion.</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="at">length.out =</span> <span class="dv">100</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># simple harmonic motion from our perspective: 0-degree rotation.</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>x_0 <span class="ot">&lt;-</span> <span class="fu">sin</span>(<span class="dv">2</span> <span class="sc">*</span> pi <span class="sc">*</span> <span class="fl">0.5</span> <span class="sc">*</span> t)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>y_0 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="fu">length</span>(t), <span class="dv">0</span>, .<span class="dv">03</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>coords_0 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(x_0, y_0), <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 15-degree rotation matrix for camera 1</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>theta_A <span class="ot">=</span> pi <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">/</span> <span class="dv">12</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>M_A <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="fu">cos</span>(theta_A), <span class="sc">-</span><span class="fu">sin</span>(theta_A), <span class="fu">sin</span>(theta_A), <span class="fu">cos</span>(theta_A)), <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>coords_A <span class="ot">&lt;-</span> coords_0 <span class="sc">%*%</span> M_A</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 45-degree rotation matrix for camera 2</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>theta_B <span class="ot">=</span> pi <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">/</span> <span class="dv">4</span>)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>M_B <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="fu">cos</span>(theta_B), <span class="sc">-</span><span class="fu">sin</span>(theta_B), <span class="fu">sin</span>(theta_B), <span class="fu">cos</span>(theta_B)), <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>coords_B <span class="ot">&lt;-</span> coords_0 <span class="sc">%*%</span> M_B</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 150-degree rotation matrix for camera 3</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>theta_C <span class="ot">=</span> pi <span class="sc">*</span> (<span class="dv">5</span> <span class="sc">/</span> <span class="dv">6</span>)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>M_C <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="fu">cos</span>(theta_C), <span class="sc">-</span><span class="fu">sin</span>(theta_C), <span class="fu">sin</span>(theta_C), <span class="fu">cos</span>(theta_C)), <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>coords_C <span class="ot">&lt;-</span> coords_0 <span class="sc">%*%</span> M_C</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Combined dataset</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>spring <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">t =</span> t,</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">camera_A_x =</span> coords_A[, <span class="dv">1</span>],</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">camera_A_y =</span> coords_A[, <span class="dv">2</span>],</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">camera_B_x =</span> coords_B[, <span class="dv">1</span>],</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">camera_B_y =</span> coords_B[, <span class="dv">2</span>],</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">camera_C_x =</span> coords_C[, <span class="dv">1</span>],</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">camera_C_y =</span> coords_C[, <span class="dv">2</span>]</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(spring)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 100
Columns: 7
$ t          &lt;dbl&gt; 0.0000000, 0.1010101, 0.2020202, 0.3030303, 0.4040404, 0.50…
$ camera_A_x &lt;dbl&gt; -0.001465886, 0.305900249, 0.574032339, 0.791109832, 0.9078…
$ camera_A_y &lt;dbl&gt; 0.0054707609, 0.0639693837, 0.1485024712, 0.1948177118, 0.3…
$ camera_B_x &lt;dbl&gt; -0.004004875, 0.232932695, 0.422875353, 0.587712356, 0.6355…
$ camera_B_y &lt;dbl&gt; 0.004004875, 0.208349236, 0.415623082, 0.564272003, 0.71486…
$ camera_C_x &lt;dbl&gt; -0.002831874, -0.261537326, -0.510909264, -0.697156052, -0.…
$ camera_C_y &lt;dbl&gt; -0.00490495, 0.17107096, 0.30089506, 0.42164220, 0.42889261…</code></pre>
</div>
</div>
<p>Here are the x-y coordinates recorded from the cameras’ perspectives..</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02-pca_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We can perform a PCA in a single step. The <code>center</code> and <code>scale.</code> arguments are because PCA should operate on standardized data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>spring_pca <span class="ot">&lt;-</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  spring <span class="sc">|&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>t) <span class="sc">|&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prcomp</span>(<span class="at">center =</span> <span class="cn">TRUE</span>, <span class="at">scale. =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(spring_pca)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Importance of components:
                          PC1     PC2       PC3     PC4      PC5       PC6
Standard deviation     2.4426 0.18354 3.599e-16 1.1e-16 1.02e-16 9.594e-17
Proportion of Variance 0.9944 0.00561 0.000e+00 0.0e+00 0.00e+00 0.000e+00
Cumulative Proportion  0.9944 1.00000 1.000e+00 1.0e+00 1.00e+00 1.000e+00</code></pre>
</div>
</div>
<p>PCA creates as many components as there are variables. The summary table shows the proportion of the variance in the data set explained by each component. The standard deviation of the first component is 2.443 compared to nearly zero for the other five components. It explains essentially all of the dataset variance. The upshot is that you can replace the six columns in the dataset with just this one.</p>
</section>
<section id="matrix-algebra" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="matrix-algebra"><span class="header-section-number">2.2</span> Matrix Algebra</h2>
<p>PCA works by identifying the most meaningful basis to re-express the dataset. In our toy example, the unit basis along the <em>x</em>-axis is the most meaningful. It does this with matrix algebra.</p>
<p>Each row of the dataset may be expressed as a column vector, <span class="math inline">\(\vec{X}\)</span> that is the <em>x</em> and <em>y</em> values recorded by the three cameras.</p>
<p><span class="math display">\[
\vec{X} = \begin{bmatrix} A_x \\ A_y \\ B_x \\ B_y \\ C_x \\ C_y \end{bmatrix}
\]</span></p>
<p><span class="math inline">\(\vec{X}\)</span> lies in an <em>m=6</em>-dimensional vector space spanned by an orthonormal basis. The orthonormal bases for each camera are <span class="math inline">\(\{(1,0), (0,1)\}\)</span> <em>from their own perspective</em>, so a data point from camera <span class="math inline">\(A\)</span> might equivalently be expressed as</p>
<p><span class="math display">\[
\begin{bmatrix} 1 &amp; 0 \\ 0 &amp; 1 \end{bmatrix} \begin{bmatrix} A_x \\ A_y \end{bmatrix}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note on Orthonormal Bases
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>An orthonormal basis is any set of vectors whose pairwise inner products are zero. The orthonormal basis for camera <span class="math inline">\(A\)</span> might be <span class="math inline">\(\{(\sqrt{2}/2,\sqrt{2}/2), (-\sqrt{2}/2,\sqrt{2}/2)\}\)</span> from a neutral perspective. From the neutral perspective, you would have to rotate the axes 45 degrees.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># M is a 45-degree line</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">100</span>, <span class="dv">0</span><span class="sc">:</span><span class="dv">100</span> <span class="sc">*</span> <span class="fu">tan</span>(<span class="dv">45</span><span class="sc">*</span>(pi<span class="sc">/</span><span class="dv">180</span>))), <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(M) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"X"</span>, <span class="st">"Y"</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># M is unchanged after multiplication by identity matrix.</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>I <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>), <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>M1 <span class="ot">&lt;-</span> M <span class="sc">%*%</span> I</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(M1) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(M)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Rotate M 45-degrees.</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>B <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="fu">sqrt</span>(<span class="dv">2</span>)<span class="sc">/</span><span class="dv">2</span>, <span class="fu">sqrt</span>(<span class="dv">2</span>)<span class="sc">/</span><span class="dv">2</span>, <span class="sc">-</span><span class="fu">sqrt</span>(<span class="dv">2</span>)<span class="sc">/</span><span class="dv">2</span>, <span class="fu">sqrt</span>(<span class="dv">2</span>)<span class="sc">/</span><span class="dv">2</span>), <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>M2 <span class="ot">&lt;-</span> M <span class="sc">%*%</span> B</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(M2) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(M)</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">45 degree line</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as_tibble</span>(M1),</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Rotated 45 degrees</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as_tibble</span>(M2),</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">.id =</span> <span class="st">"series"</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> X, <span class="at">y =</span> Y, <span class="at">color =</span> series)) <span class="sc">+</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">color =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02-pca_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="480"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Extending this to all three cameras, you might start by naively assuming they collect data from the <em>same perspective</em>, taking each measurement at face value. The set of orthonormal basis vectors, <span class="math inline">\(\textbf{B}\)</span>, would look like this identity matrix</p>
<p><span class="math display">\[
\textbf{B} = \begin{bmatrix} b_1 \\ b_2 \\ \vdots \\ b_m \end{bmatrix} = \begin{bmatrix} 1 &amp; 0 &amp; \cdots &amp; 0 \\ 0 &amp; 1 &amp; \cdots &amp; 0 \\ \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\ 0 &amp; 0 &amp; \cdots &amp; 1 \end{bmatrix}
\]</span></p>
<p>where <span class="math inline">\(b_1\)</span> and <span class="math inline">\(b_2\)</span> are the bases used by camera <span class="math inline">\(A\)</span>, etc. Now the data set <span class="math inline">\(\textbf{X}\)</span> can be expressed as the matrix multiplication, <span class="math inline">\(\textbf{BX}\)</span>. This added complexity allows you to ask whether another basis, <span class="math inline">\(\textbf{P}\)</span>, <em>that is a linear combination of the original basis</em>, better expresses the data set, <span class="math inline">\(\textbf{PX} = \textbf{Y}\)</span>. The <em>linear</em> restriction is a key simplifying assumption of PCA. <span class="math inline">\(\textbf{P}\)</span> transforms <span class="math inline">\(\textbf{X}\)</span> into <span class="math inline">\(\textbf{Y}\)</span>, but you can also think of it as rotating and stretching <span class="math inline">\(\textbf{X}\)</span> into <span class="math inline">\(\textbf{Y}.\)</span></p>
<p>So, what transformation is best? The ideal is to maximize variance (signal-to-noise ratio) and minimize covariance (redundancy) in the data. The signal-to-noise ratio is <span class="math inline">\(SNR = \sigma^2_{signal} / \sigma^2_{noise}\)</span>. In each camera’s 2D perspective, the signal is the amplitude of the movement of the spring along the x-axis and the noise is the movement along the y-axis. SNR is maximized by rotating the camera axes (gold below).</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02-pca_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The other criteria is redundancy. The three cameras record the same activity, so they are highly correlated.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>spring <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">ends_with</span>(<span class="st">"x"</span>)) <span class="sc">|&gt;</span> GGally<span class="sc">::</span><span class="fu">ggpairs</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02-pca_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>If <span class="math inline">\(\textbf{X}\)</span> is an <span class="math inline">\(m \times n\)</span> matrix of centered values (subtracting the mean), PCA finds an orthonormal matrix <span class="math inline">\(\textbf{P}\)</span> in <span class="math inline">\(\textbf{Y} = \textbf{PX}\)</span> such that the covariance matrix <span class="math inline">\(\textbf{C}_\textbf{Y} = \frac{1}{n}\textbf{YY}^T\)</span> is diagonal. The rows of <span class="math inline">\(\textbf{P}\)</span> are the principal components of <span class="math inline">\(\textbf{X}\)</span>. The off-diagonal elements of a covariance matrix are the covariances and they measure redundancy. The diagonal elements are the variances and they measure signal.</p>
<p>With matrix algebra, you can express <span class="math inline">\(\textbf{C}_\textbf{Y}\)</span> in terms of the covariance matrix of <span class="math inline">\(\textbf{X}\)</span>, <span class="math inline">\(\textbf{C}_\textbf{X}\)</span>.</p>
<p><span class="math display">\[
\begin{align}
\textbf{C}_\textbf{Y} &amp;= \frac{1}{n}\textbf{YY}^T \\
&amp;= \frac{1}{n}(\textbf{PX})(\textbf{PX})^T \\
&amp;= \frac{1}{n}\textbf{PXX}^T\textbf{P}^T \\
&amp;= P\left(\frac{1}{n}\textbf{XX}^T\right)\textbf{P}^T \\
&amp;= \textbf{PC}_\textbf{X}\textbf{P}^T
\end{align}
\]</span></p>
<p>Any symmetric matrix can be diagonalized by an orthogonal matrix of its eigenvectors, <span class="math inline">\(\textbf{C}_\textbf{X} = \textbf{E}^T\textbf{DE}\)</span>. So select <span class="math inline">\(\textbf{P}\)</span> to be such a matrix.</p>
<p><span class="math display">\[
\begin{align}
\textbf{C}_\textbf{Y} &amp;= \textbf{PC}_\textbf{X}\textbf{P}^T \\
&amp;= \textbf{P}(\textbf{E}^T\textbf{DE})\textbf{P}^T \\
&amp;= \textbf{P}(\textbf{P}^T\textbf{DP})\textbf{P}^T \\
&amp;= (\textbf{PP}^T)\textbf{D}(\textbf{PP}^T) \\
&amp;= (\textbf{PP}^{-1})\textbf{D}(\textbf{PP}^{-1}) \\
&amp;= \textbf{D}
\end{align}
\]</span></p>
</section>
<section id="case-study" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="case-study"><span class="header-section-number">2.3</span> Case Study</h2>
<p>Let’s work with a case study presented by <a href="https://statistics.laerd.com/premium/spss/pca/pca-in-spss.php">Laerd</a>. 315 job candidates complete a questionnaire consisting of 25 questions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>pca_dat <span class="ot">&lt;-</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  foreign<span class="sc">::</span><span class="fu">read.spss</span>(<span class="st">"./input/pca.sav"</span>, <span class="at">to.data.frame =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">where</span>(is.factor), <span class="sc">~</span><span class="fu">factor</span>(., <span class="at">levels =</span> likert_scale, <span class="at">ordered =</span> <span class="cn">TRUE</span>))</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(pca_dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 315
Columns: 30
$ Qu1    &lt;ord&gt; Agree Somewhat, Disagree, Disagree Somewhat, Undecided, Undecid…
$ Qu2    &lt;ord&gt; Undecided, Strongly Agree, Agree, Disagree, Disagree, Disagree,…
$ Qu3    &lt;ord&gt; Undecided, Agree, Agree Somewhat, Agree, Agree, Agree Somewhat,…
$ Qu4    &lt;ord&gt; Undecided, Agree, Agree, Disagree, Disagree, Agree Somewhat, Ag…
$ Qu5    &lt;ord&gt; Undecided, Agree, Agree Somewhat, Disagree Somewhat, Disagree S…
$ Qu6    &lt;ord&gt; Undecided, Agree Somewhat, Agree Somewhat, Disagree, Disagree, …
$ Qu7    &lt;ord&gt; Undecided, Agree Somewhat, Agree, Disagree Somewhat, Disagree S…
$ Qu8    &lt;ord&gt; Undecided, Agree Somewhat, Agree Somewhat, Disagree, Disagree, …
$ Qu9    &lt;ord&gt; Agree Somewhat, Agree Somewhat, Disagree Somewhat, Undecided, U…
$ Qu10   &lt;ord&gt; Undecided, Agree Somewhat, Disagree Somewhat, Disagree, Disagre…
$ Qu11   &lt;ord&gt; Agree Somewhat, Agree Somewhat, Disagree Somewhat, Agree Somewh…
$ Qu12   &lt;ord&gt; Strongly Agree, Agree, Agree, Agree, Agree, Agree, Agree, Agree…
$ Qu13   &lt;ord&gt; Undecided, Agree, Agree, Strongly Agree, Strongly Agree, Agree,…
$ Qu14   &lt;ord&gt; Undecided, Agree, Agree Somewhat, Agree Somewhat, Agree Somewha…
$ Qu15   &lt;ord&gt; Undecided, Agree, Agree, Agree Somewhat, Agree Somewhat, Agree …
$ Qu16   &lt;ord&gt; Undecided, Agree, Agree Somewhat, Undecided, Undecided, Disagre…
$ Qu17   &lt;ord&gt; Undecided, Agree, Agree Somewhat, Undecided, Undecided, Agree S…
$ Qu18   &lt;ord&gt; Undecided, Agree Somewhat, Agree, Agree Somewhat, Agree Somewha…
$ Qu19   &lt;ord&gt; Agree Somewhat, Strongly Agree, Agree, Disagree, Disagree, Disa…
$ Qu20   &lt;ord&gt; Undecided, Agree, Agree Somewhat, Disagree Somewhat, Disagree S…
$ Qu21   &lt;ord&gt; Undecided, Strongly Agree, Agree Somewhat, Agree, Agree, Strong…
$ Qu22   &lt;ord&gt; Undecided, Agree Somewhat, Agree Somewhat, Agree Somewhat, Agre…
$ Qu23   &lt;ord&gt; Undecided, Strongly Agree, Agree Somewhat, Agree Somewhat, Agre…
$ Qu24   &lt;ord&gt; Undecided, Agree, Agree Somewhat, Agree, Agree, Agree, Undecide…
$ Qu25   &lt;ord&gt; Undecided, Strongly Agree, Agree Somewhat, Agree Somewhat, Agre…
$ FAC1_1 &lt;dbl&gt; -0.31985907, -1.85802269, -1.36495416, 0.02235922, 0.02235922, …
$ FAC2_1 &lt;dbl&gt; -0.6366505, -1.5727256, -1.6357254, -0.6846857, -0.6846857, -1.…
$ FAC3_1 &lt;dbl&gt; 0.825818943, -1.576466472, -0.125140607, -0.576649155, -0.57664…
$ FAC4_1 &lt;dbl&gt; -1.4492270, -0.9594769, 0.3063403, -0.3991595, -0.3991595, 1.60…
$ FAC5_1 &lt;dbl&gt; -0.03960671, -0.03584510, -0.80707018, 1.59287496, 1.59287496, …</code></pre>
</div>
</div>
<p>The questions focused on four attributes: motivation, dependability, enthusiasm, and commitment.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Motivaton</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Dependability</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Enthusiasm</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Commitment</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gt_items</span>(q_motivation)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="tjyzjbhslz" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#tjyzjbhslz table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#tjyzjbhslz thead, #tjyzjbhslz tbody, #tjyzjbhslz tfoot, #tjyzjbhslz tr, #tjyzjbhslz td, #tjyzjbhslz th {
  border-style: none;
}

#tjyzjbhslz p {
  margin: 0;
  padding: 0;
}

#tjyzjbhslz .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#tjyzjbhslz .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#tjyzjbhslz .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#tjyzjbhslz .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#tjyzjbhslz .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tjyzjbhslz .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tjyzjbhslz .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tjyzjbhslz .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#tjyzjbhslz .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#tjyzjbhslz .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#tjyzjbhslz .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#tjyzjbhslz .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#tjyzjbhslz .gt_spanner_row {
  border-bottom-style: hidden;
}

#tjyzjbhslz .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#tjyzjbhslz .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#tjyzjbhslz .gt_from_md > :first-child {
  margin-top: 0;
}

#tjyzjbhslz .gt_from_md > :last-child {
  margin-bottom: 0;
}

#tjyzjbhslz .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#tjyzjbhslz .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#tjyzjbhslz .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#tjyzjbhslz .gt_row_group_first td {
  border-top-width: 2px;
}

#tjyzjbhslz .gt_row_group_first th {
  border-top-width: 2px;
}

#tjyzjbhslz .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tjyzjbhslz .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#tjyzjbhslz .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#tjyzjbhslz .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tjyzjbhslz .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tjyzjbhslz .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#tjyzjbhslz .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#tjyzjbhslz .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#tjyzjbhslz .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tjyzjbhslz .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tjyzjbhslz .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tjyzjbhslz .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tjyzjbhslz .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tjyzjbhslz .gt_left {
  text-align: left;
}

#tjyzjbhslz .gt_center {
  text-align: center;
}

#tjyzjbhslz .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#tjyzjbhslz .gt_font_normal {
  font-weight: normal;
}

#tjyzjbhslz .gt_font_bold {
  font-weight: bold;
}

#tjyzjbhslz .gt_font_italic {
  font-style: italic;
}

#tjyzjbhslz .gt_super {
  font-size: 65%;
}

#tjyzjbhslz .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#tjyzjbhslz .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#tjyzjbhslz .gt_indent_1 {
  text-indent: 5px;
}

#tjyzjbhslz .gt_indent_2 {
  text-indent: 10px;
}

#tjyzjbhslz .gt_indent_3 {
  text-indent: 15px;
}

#tjyzjbhslz .gt_indent_4 {
  text-indent: 20px;
}

#tjyzjbhslz .gt_indent_5 {
  text-indent: 25px;
}

#tjyzjbhslz .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#tjyzjbhslz div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header gt_col_headings">
<th id="label" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"><strong>Characteristic</strong></th>
<th id="stat_1" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Strongly Agree</strong><br> N = 30<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_2" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Agree</strong><br> N = 136<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_3" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Agree Somewhat</strong><br> N = 406<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_4" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Undecided</strong><br> N = 726<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_5" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Disagree Somewhat</strong><br> N = 769<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_6" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Disagree</strong><br> N = 206<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_7" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Strongly Disagree</strong><br> N = 247<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="label"></td>
<td class="gt_row gt_center" headers="stat_1"><br>
</td>
<td class="gt_row gt_center" headers="stat_2"><br>
</td>
<td class="gt_row gt_center" headers="stat_3"><br>
</td>
<td class="gt_row gt_center" headers="stat_4"><br>
</td>
<td class="gt_row gt_center" headers="stat_5"><br>
</td>
<td class="gt_row gt_center" headers="stat_6"><br>
</td>
<td class="gt_row gt_center" headers="stat_7"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu3</td>
<td class="gt_row gt_center" headers="stat_1">1 (0.3%)</td>
<td class="gt_row gt_center" headers="stat_2">19 (6.0%)</td>
<td class="gt_row gt_center" headers="stat_3">54 (17%)</td>
<td class="gt_row gt_center" headers="stat_4">97 (31%)</td>
<td class="gt_row gt_center" headers="stat_5">94 (30%)</td>
<td class="gt_row gt_center" headers="stat_6">27 (8.6%)</td>
<td class="gt_row gt_center" headers="stat_7">23 (7.3%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu4</td>
<td class="gt_row gt_center" headers="stat_1">1 (0.3%)</td>
<td class="gt_row gt_center" headers="stat_2">12 (3.8%)</td>
<td class="gt_row gt_center" headers="stat_3">53 (17%)</td>
<td class="gt_row gt_center" headers="stat_4">106 (34%)</td>
<td class="gt_row gt_center" headers="stat_5">91 (29%)</td>
<td class="gt_row gt_center" headers="stat_6">25 (7.9%)</td>
<td class="gt_row gt_center" headers="stat_7">27 (8.6%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu5</td>
<td class="gt_row gt_center" headers="stat_1">1 (0.3%)</td>
<td class="gt_row gt_center" headers="stat_2">19 (6.0%)</td>
<td class="gt_row gt_center" headers="stat_3">61 (19%)</td>
<td class="gt_row gt_center" headers="stat_4">88 (28%)</td>
<td class="gt_row gt_center" headers="stat_5">102 (32%)</td>
<td class="gt_row gt_center" headers="stat_6">23 (7.3%)</td>
<td class="gt_row gt_center" headers="stat_7">21 (6.7%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu6</td>
<td class="gt_row gt_center" headers="stat_1">3 (1.0%)</td>
<td class="gt_row gt_center" headers="stat_2">13 (4.1%)</td>
<td class="gt_row gt_center" headers="stat_3">45 (14%)</td>
<td class="gt_row gt_center" headers="stat_4">102 (32%)</td>
<td class="gt_row gt_center" headers="stat_5">104 (33%)</td>
<td class="gt_row gt_center" headers="stat_6">25 (7.9%)</td>
<td class="gt_row gt_center" headers="stat_7">23 (7.3%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu7</td>
<td class="gt_row gt_center" headers="stat_1">4 (1.3%)</td>
<td class="gt_row gt_center" headers="stat_2">11 (3.5%)</td>
<td class="gt_row gt_center" headers="stat_3">42 (13%)</td>
<td class="gt_row gt_center" headers="stat_4">99 (31%)</td>
<td class="gt_row gt_center" headers="stat_5">90 (29%)</td>
<td class="gt_row gt_center" headers="stat_6">37 (12%)</td>
<td class="gt_row gt_center" headers="stat_7">32 (10%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu8</td>
<td class="gt_row gt_center" headers="stat_1">7 (2.2%)</td>
<td class="gt_row gt_center" headers="stat_2">7 (2.2%)</td>
<td class="gt_row gt_center" headers="stat_3">42 (13%)</td>
<td class="gt_row gt_center" headers="stat_4">68 (22%)</td>
<td class="gt_row gt_center" headers="stat_5">119 (38%)</td>
<td class="gt_row gt_center" headers="stat_6">42 (13%)</td>
<td class="gt_row gt_center" headers="stat_7">30 (9.5%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu12</td>
<td class="gt_row gt_center" headers="stat_1">1 (0.3%)</td>
<td class="gt_row gt_center" headers="stat_2">26 (8.3%)</td>
<td class="gt_row gt_center" headers="stat_3">44 (14%)</td>
<td class="gt_row gt_center" headers="stat_4">76 (24%)</td>
<td class="gt_row gt_center" headers="stat_5">83 (26%)</td>
<td class="gt_row gt_center" headers="stat_6">16 (5.1%)</td>
<td class="gt_row gt_center" headers="stat_7">69 (22%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu13</td>
<td class="gt_row gt_center" headers="stat_1">12 (3.8%)</td>
<td class="gt_row gt_center" headers="stat_2">29 (9.2%)</td>
<td class="gt_row gt_center" headers="stat_3">65 (21%)</td>
<td class="gt_row gt_center" headers="stat_4">90 (29%)</td>
<td class="gt_row gt_center" headers="stat_5">86 (27%)</td>
<td class="gt_row gt_center" headers="stat_6">11 (3.5%)</td>
<td class="gt_row gt_center" headers="stat_7">22 (7.0%)</td>
</tr>
</tbody><tfoot class="gt_footnotes">
<tr class="even">
<td colspan="8" class="gt_footnote"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span> n (%)</td>
</tr>
</tfoot>

</table>

</div>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gt_items</span>(q_dependability)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="dqckgusdly" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#dqckgusdly table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#dqckgusdly thead, #dqckgusdly tbody, #dqckgusdly tfoot, #dqckgusdly tr, #dqckgusdly td, #dqckgusdly th {
  border-style: none;
}

#dqckgusdly p {
  margin: 0;
  padding: 0;
}

#dqckgusdly .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#dqckgusdly .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#dqckgusdly .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dqckgusdly .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dqckgusdly .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dqckgusdly .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dqckgusdly .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dqckgusdly .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dqckgusdly .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dqckgusdly .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dqckgusdly .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dqckgusdly .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dqckgusdly .gt_spanner_row {
  border-bottom-style: hidden;
}

#dqckgusdly .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#dqckgusdly .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dqckgusdly .gt_from_md > :first-child {
  margin-top: 0;
}

#dqckgusdly .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dqckgusdly .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dqckgusdly .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#dqckgusdly .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#dqckgusdly .gt_row_group_first td {
  border-top-width: 2px;
}

#dqckgusdly .gt_row_group_first th {
  border-top-width: 2px;
}

#dqckgusdly .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dqckgusdly .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#dqckgusdly .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#dqckgusdly .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dqckgusdly .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dqckgusdly .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dqckgusdly .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#dqckgusdly .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#dqckgusdly .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dqckgusdly .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dqckgusdly .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dqckgusdly .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dqckgusdly .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dqckgusdly .gt_left {
  text-align: left;
}

#dqckgusdly .gt_center {
  text-align: center;
}

#dqckgusdly .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dqckgusdly .gt_font_normal {
  font-weight: normal;
}

#dqckgusdly .gt_font_bold {
  font-weight: bold;
}

#dqckgusdly .gt_font_italic {
  font-style: italic;
}

#dqckgusdly .gt_super {
  font-size: 65%;
}

#dqckgusdly .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#dqckgusdly .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#dqckgusdly .gt_indent_1 {
  text-indent: 5px;
}

#dqckgusdly .gt_indent_2 {
  text-indent: 10px;
}

#dqckgusdly .gt_indent_3 {
  text-indent: 15px;
}

#dqckgusdly .gt_indent_4 {
  text-indent: 20px;
}

#dqckgusdly .gt_indent_5 {
  text-indent: 25px;
}

#dqckgusdly .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#dqckgusdly div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header gt_col_headings">
<th id="label" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"><strong>Characteristic</strong></th>
<th id="stat_1" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Strongly Agree</strong><br> N = 49<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_2" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Agree</strong><br> N = 185<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_3" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Agree Somewhat</strong><br> N = 430<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_4" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Undecided</strong><br> N = 628<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_5" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Disagree Somewhat</strong><br> N = 553<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_6" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Disagree</strong><br> N = 267<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_7" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Strongly Disagree</strong><br> N = 93<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="label"></td>
<td class="gt_row gt_center" headers="stat_1"><br>
</td>
<td class="gt_row gt_center" headers="stat_2"><br>
</td>
<td class="gt_row gt_center" headers="stat_3"><br>
</td>
<td class="gt_row gt_center" headers="stat_4"><br>
</td>
<td class="gt_row gt_center" headers="stat_5"><br>
</td>
<td class="gt_row gt_center" headers="stat_6"><br>
</td>
<td class="gt_row gt_center" headers="stat_7"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu2</td>
<td class="gt_row gt_center" headers="stat_1">15 (4.8%)</td>
<td class="gt_row gt_center" headers="stat_2">31 (9.8%)</td>
<td class="gt_row gt_center" headers="stat_3">51 (16%)</td>
<td class="gt_row gt_center" headers="stat_4">79 (25%)</td>
<td class="gt_row gt_center" headers="stat_5">69 (22%)</td>
<td class="gt_row gt_center" headers="stat_6">51 (16%)</td>
<td class="gt_row gt_center" headers="stat_7">19 (6.0%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu14</td>
<td class="gt_row gt_center" headers="stat_1">2 (0.6%)</td>
<td class="gt_row gt_center" headers="stat_2">31 (9.8%)</td>
<td class="gt_row gt_center" headers="stat_3">53 (17%)</td>
<td class="gt_row gt_center" headers="stat_4">101 (32%)</td>
<td class="gt_row gt_center" headers="stat_5">85 (27%)</td>
<td class="gt_row gt_center" headers="stat_6">30 (9.5%)</td>
<td class="gt_row gt_center" headers="stat_7">13 (4.1%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu15</td>
<td class="gt_row gt_center" headers="stat_1">4 (1.3%)</td>
<td class="gt_row gt_center" headers="stat_2">26 (8.3%)</td>
<td class="gt_row gt_center" headers="stat_3">67 (21%)</td>
<td class="gt_row gt_center" headers="stat_4">92 (29%)</td>
<td class="gt_row gt_center" headers="stat_5">80 (25%)</td>
<td class="gt_row gt_center" headers="stat_6">33 (10%)</td>
<td class="gt_row gt_center" headers="stat_7">13 (4.1%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu16</td>
<td class="gt_row gt_center" headers="stat_1">7 (2.2%)</td>
<td class="gt_row gt_center" headers="stat_2">25 (7.9%)</td>
<td class="gt_row gt_center" headers="stat_3">66 (21%)</td>
<td class="gt_row gt_center" headers="stat_4">77 (24%)</td>
<td class="gt_row gt_center" headers="stat_5">90 (29%)</td>
<td class="gt_row gt_center" headers="stat_6">39 (12%)</td>
<td class="gt_row gt_center" headers="stat_7">11 (3.5%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu17</td>
<td class="gt_row gt_center" headers="stat_1">12 (3.8%)</td>
<td class="gt_row gt_center" headers="stat_2">29 (9.2%)</td>
<td class="gt_row gt_center" headers="stat_3">80 (25%)</td>
<td class="gt_row gt_center" headers="stat_4">94 (30%)</td>
<td class="gt_row gt_center" headers="stat_5">71 (23%)</td>
<td class="gt_row gt_center" headers="stat_6">24 (7.6%)</td>
<td class="gt_row gt_center" headers="stat_7">5 (1.6%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu18</td>
<td class="gt_row gt_center" headers="stat_1">5 (1.6%)</td>
<td class="gt_row gt_center" headers="stat_2">33 (10%)</td>
<td class="gt_row gt_center" headers="stat_3">69 (22%)</td>
<td class="gt_row gt_center" headers="stat_4">97 (31%)</td>
<td class="gt_row gt_center" headers="stat_5">73 (23%)</td>
<td class="gt_row gt_center" headers="stat_6">25 (7.9%)</td>
<td class="gt_row gt_center" headers="stat_7">13 (4.1%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu19</td>
<td class="gt_row gt_center" headers="stat_1">4 (1.3%)</td>
<td class="gt_row gt_center" headers="stat_2">10 (3.2%)</td>
<td class="gt_row gt_center" headers="stat_3">44 (14%)</td>
<td class="gt_row gt_center" headers="stat_4">88 (28%)</td>
<td class="gt_row gt_center" headers="stat_5">85 (27%)</td>
<td class="gt_row gt_center" headers="stat_6">65 (21%)</td>
<td class="gt_row gt_center" headers="stat_7">19 (6.0%)</td>
</tr>
</tbody><tfoot class="gt_footnotes">
<tr class="odd">
<td colspan="8" class="gt_footnote"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span> n (%)</td>
</tr>
</tfoot>

</table>

</div>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gt_items</span>(q_enthusiasm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="bmjpdyrpeq" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#bmjpdyrpeq table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#bmjpdyrpeq thead, #bmjpdyrpeq tbody, #bmjpdyrpeq tfoot, #bmjpdyrpeq tr, #bmjpdyrpeq td, #bmjpdyrpeq th {
  border-style: none;
}

#bmjpdyrpeq p {
  margin: 0;
  padding: 0;
}

#bmjpdyrpeq .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#bmjpdyrpeq .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#bmjpdyrpeq .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#bmjpdyrpeq .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#bmjpdyrpeq .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bmjpdyrpeq .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bmjpdyrpeq .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bmjpdyrpeq .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#bmjpdyrpeq .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#bmjpdyrpeq .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#bmjpdyrpeq .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#bmjpdyrpeq .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#bmjpdyrpeq .gt_spanner_row {
  border-bottom-style: hidden;
}

#bmjpdyrpeq .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#bmjpdyrpeq .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#bmjpdyrpeq .gt_from_md > :first-child {
  margin-top: 0;
}

#bmjpdyrpeq .gt_from_md > :last-child {
  margin-bottom: 0;
}

#bmjpdyrpeq .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#bmjpdyrpeq .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#bmjpdyrpeq .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#bmjpdyrpeq .gt_row_group_first td {
  border-top-width: 2px;
}

#bmjpdyrpeq .gt_row_group_first th {
  border-top-width: 2px;
}

#bmjpdyrpeq .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bmjpdyrpeq .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#bmjpdyrpeq .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#bmjpdyrpeq .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bmjpdyrpeq .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bmjpdyrpeq .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#bmjpdyrpeq .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#bmjpdyrpeq .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#bmjpdyrpeq .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bmjpdyrpeq .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bmjpdyrpeq .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bmjpdyrpeq .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bmjpdyrpeq .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bmjpdyrpeq .gt_left {
  text-align: left;
}

#bmjpdyrpeq .gt_center {
  text-align: center;
}

#bmjpdyrpeq .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#bmjpdyrpeq .gt_font_normal {
  font-weight: normal;
}

#bmjpdyrpeq .gt_font_bold {
  font-weight: bold;
}

#bmjpdyrpeq .gt_font_italic {
  font-style: italic;
}

#bmjpdyrpeq .gt_super {
  font-size: 65%;
}

#bmjpdyrpeq .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#bmjpdyrpeq .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#bmjpdyrpeq .gt_indent_1 {
  text-indent: 5px;
}

#bmjpdyrpeq .gt_indent_2 {
  text-indent: 10px;
}

#bmjpdyrpeq .gt_indent_3 {
  text-indent: 15px;
}

#bmjpdyrpeq .gt_indent_4 {
  text-indent: 20px;
}

#bmjpdyrpeq .gt_indent_5 {
  text-indent: 25px;
}

#bmjpdyrpeq .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#bmjpdyrpeq div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header gt_col_headings">
<th id="label" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"><strong>Characteristic</strong></th>
<th id="stat_1" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Strongly Agree</strong><br> N = 107<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_2" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Agree</strong><br> N = 308<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_3" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Agree Somewhat</strong><br> N = 562<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_4" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Undecided</strong><br> N = 492<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_5" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Disagree Somewhat</strong><br> N = 372<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_6" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Disagree</strong><br> N = 28<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_7" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Strongly Disagree</strong><br> N = 21<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="label"></td>
<td class="gt_row gt_center" headers="stat_1"><br>
</td>
<td class="gt_row gt_center" headers="stat_2"><br>
</td>
<td class="gt_row gt_center" headers="stat_3"><br>
</td>
<td class="gt_row gt_center" headers="stat_4"><br>
</td>
<td class="gt_row gt_center" headers="stat_5"><br>
</td>
<td class="gt_row gt_center" headers="stat_6"><br>
</td>
<td class="gt_row gt_center" headers="stat_7"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu20</td>
<td class="gt_row gt_center" headers="stat_1">8 (2.5%)</td>
<td class="gt_row gt_center" headers="stat_2">37 (12%)</td>
<td class="gt_row gt_center" headers="stat_3">74 (23%)</td>
<td class="gt_row gt_center" headers="stat_4">83 (26%)</td>
<td class="gt_row gt_center" headers="stat_5">87 (28%)</td>
<td class="gt_row gt_center" headers="stat_6">17 (5.4%)</td>
<td class="gt_row gt_center" headers="stat_7">9 (2.9%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu21</td>
<td class="gt_row gt_center" headers="stat_1">20 (6.3%)</td>
<td class="gt_row gt_center" headers="stat_2">67 (21%)</td>
<td class="gt_row gt_center" headers="stat_3">103 (33%)</td>
<td class="gt_row gt_center" headers="stat_4">63 (20%)</td>
<td class="gt_row gt_center" headers="stat_5">60 (19%)</td>
<td class="gt_row gt_center" headers="stat_6">0 (0%)</td>
<td class="gt_row gt_center" headers="stat_7">2 (0.6%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu22</td>
<td class="gt_row gt_center" headers="stat_1">23 (7.3%)</td>
<td class="gt_row gt_center" headers="stat_2">68 (22%)</td>
<td class="gt_row gt_center" headers="stat_3">114 (36%)</td>
<td class="gt_row gt_center" headers="stat_4">59 (19%)</td>
<td class="gt_row gt_center" headers="stat_5">49 (16%)</td>
<td class="gt_row gt_center" headers="stat_6">0 (0%)</td>
<td class="gt_row gt_center" headers="stat_7">2 (0.6%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu23</td>
<td class="gt_row gt_center" headers="stat_1">16 (5.1%)</td>
<td class="gt_row gt_center" headers="stat_2">46 (15%)</td>
<td class="gt_row gt_center" headers="stat_3">87 (28%)</td>
<td class="gt_row gt_center" headers="stat_4">84 (27%)</td>
<td class="gt_row gt_center" headers="stat_5">74 (23%)</td>
<td class="gt_row gt_center" headers="stat_6">2 (0.6%)</td>
<td class="gt_row gt_center" headers="stat_7">6 (1.9%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu24</td>
<td class="gt_row gt_center" headers="stat_1">21 (6.7%)</td>
<td class="gt_row gt_center" headers="stat_2">55 (17%)</td>
<td class="gt_row gt_center" headers="stat_3">95 (30%)</td>
<td class="gt_row gt_center" headers="stat_4">96 (30%)</td>
<td class="gt_row gt_center" headers="stat_5">48 (15%)</td>
<td class="gt_row gt_center" headers="stat_6">0 (0%)</td>
<td class="gt_row gt_center" headers="stat_7">0 (0%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu25</td>
<td class="gt_row gt_center" headers="stat_1">19 (6.0%)</td>
<td class="gt_row gt_center" headers="stat_2">35 (11%)</td>
<td class="gt_row gt_center" headers="stat_3">89 (28%)</td>
<td class="gt_row gt_center" headers="stat_4">107 (34%)</td>
<td class="gt_row gt_center" headers="stat_5">54 (17%)</td>
<td class="gt_row gt_center" headers="stat_6">9 (2.9%)</td>
<td class="gt_row gt_center" headers="stat_7">2 (0.6%)</td>
</tr>
</tbody><tfoot class="gt_footnotes">
<tr class="even">
<td colspan="8" class="gt_footnote"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span> n (%)</td>
</tr>
</tfoot>

</table>

</div>
</div>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gt_items</span>(q_commitment)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="tfsztoscmn" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#tfsztoscmn table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#tfsztoscmn thead, #tfsztoscmn tbody, #tfsztoscmn tfoot, #tfsztoscmn tr, #tfsztoscmn td, #tfsztoscmn th {
  border-style: none;
}

#tfsztoscmn p {
  margin: 0;
  padding: 0;
}

#tfsztoscmn .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#tfsztoscmn .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#tfsztoscmn .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#tfsztoscmn .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#tfsztoscmn .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tfsztoscmn .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tfsztoscmn .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tfsztoscmn .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#tfsztoscmn .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#tfsztoscmn .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#tfsztoscmn .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#tfsztoscmn .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#tfsztoscmn .gt_spanner_row {
  border-bottom-style: hidden;
}

#tfsztoscmn .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#tfsztoscmn .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#tfsztoscmn .gt_from_md > :first-child {
  margin-top: 0;
}

#tfsztoscmn .gt_from_md > :last-child {
  margin-bottom: 0;
}

#tfsztoscmn .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#tfsztoscmn .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#tfsztoscmn .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#tfsztoscmn .gt_row_group_first td {
  border-top-width: 2px;
}

#tfsztoscmn .gt_row_group_first th {
  border-top-width: 2px;
}

#tfsztoscmn .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tfsztoscmn .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#tfsztoscmn .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#tfsztoscmn .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tfsztoscmn .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tfsztoscmn .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#tfsztoscmn .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#tfsztoscmn .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#tfsztoscmn .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tfsztoscmn .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tfsztoscmn .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tfsztoscmn .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tfsztoscmn .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tfsztoscmn .gt_left {
  text-align: left;
}

#tfsztoscmn .gt_center {
  text-align: center;
}

#tfsztoscmn .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#tfsztoscmn .gt_font_normal {
  font-weight: normal;
}

#tfsztoscmn .gt_font_bold {
  font-weight: bold;
}

#tfsztoscmn .gt_font_italic {
  font-style: italic;
}

#tfsztoscmn .gt_super {
  font-size: 65%;
}

#tfsztoscmn .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#tfsztoscmn .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#tfsztoscmn .gt_indent_1 {
  text-indent: 5px;
}

#tfsztoscmn .gt_indent_2 {
  text-indent: 10px;
}

#tfsztoscmn .gt_indent_3 {
  text-indent: 15px;
}

#tfsztoscmn .gt_indent_4 {
  text-indent: 20px;
}

#tfsztoscmn .gt_indent_5 {
  text-indent: 25px;
}

#tfsztoscmn .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#tfsztoscmn div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header gt_col_headings">
<th id="label" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"><strong>Characteristic</strong></th>
<th id="stat_1" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Strongly Agree</strong><br> N = 25<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_2" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Agree</strong><br> N = 60<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_3" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Agree Somewhat</strong><br> N = 104<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_4" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Undecided</strong><br> N = 149<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_5" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Disagree Somewhat</strong><br> N = 484<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_6" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Disagree</strong><br> N = 322<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_7" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Strongly Disagree</strong><br> N = 116<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="label"></td>
<td class="gt_row gt_center" headers="stat_1"><br>
</td>
<td class="gt_row gt_center" headers="stat_2"><br>
</td>
<td class="gt_row gt_center" headers="stat_3"><br>
</td>
<td class="gt_row gt_center" headers="stat_4"><br>
</td>
<td class="gt_row gt_center" headers="stat_5"><br>
</td>
<td class="gt_row gt_center" headers="stat_6"><br>
</td>
<td class="gt_row gt_center" headers="stat_7"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu1</td>
<td class="gt_row gt_center" headers="stat_1">7 (2.2%)</td>
<td class="gt_row gt_center" headers="stat_2">10 (3.2%)</td>
<td class="gt_row gt_center" headers="stat_3">20 (6.3%)</td>
<td class="gt_row gt_center" headers="stat_4">39 (12%)</td>
<td class="gt_row gt_center" headers="stat_5">114 (36%)</td>
<td class="gt_row gt_center" headers="stat_6">94 (30%)</td>
<td class="gt_row gt_center" headers="stat_7">31 (9.8%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu9</td>
<td class="gt_row gt_center" headers="stat_1">4 (1.3%)</td>
<td class="gt_row gt_center" headers="stat_2">19 (6.0%)</td>
<td class="gt_row gt_center" headers="stat_3">21 (6.7%)</td>
<td class="gt_row gt_center" headers="stat_4">19 (6.0%)</td>
<td class="gt_row gt_center" headers="stat_5">117 (37%)</td>
<td class="gt_row gt_center" headers="stat_6">94 (30%)</td>
<td class="gt_row gt_center" headers="stat_7">41 (13%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu10</td>
<td class="gt_row gt_center" headers="stat_1">9 (2.9%)</td>
<td class="gt_row gt_center" headers="stat_2">9 (2.9%)</td>
<td class="gt_row gt_center" headers="stat_3">25 (7.9%)</td>
<td class="gt_row gt_center" headers="stat_4">29 (9.2%)</td>
<td class="gt_row gt_center" headers="stat_5">129 (41%)</td>
<td class="gt_row gt_center" headers="stat_6">82 (26%)</td>
<td class="gt_row gt_center" headers="stat_7">32 (10%)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Qu11</td>
<td class="gt_row gt_center" headers="stat_1">5 (1.6%)</td>
<td class="gt_row gt_center" headers="stat_2">22 (7.0%)</td>
<td class="gt_row gt_center" headers="stat_3">38 (12%)</td>
<td class="gt_row gt_center" headers="stat_4">62 (20%)</td>
<td class="gt_row gt_center" headers="stat_5">124 (39%)</td>
<td class="gt_row gt_center" headers="stat_6">52 (17%)</td>
<td class="gt_row gt_center" headers="stat_7">12 (3.8%)</td>
</tr>
</tbody><tfoot class="gt_footnotes">
<tr class="even">
<td colspan="8" class="gt_footnote"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span> n (%)</td>
</tr>
</tfoot>

</table>

</div>
</div>
</div>
</div>
</div>
</div>
<p>Let’s drop the unrelated <code>FAC*</code> cols. PCA only works with numerical values. Our questionnaire uses a 7-level scale, so we’re probably okay to treat that as numeric.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>pca_numeric <span class="ot">&lt;-</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  pca_dat <span class="sc">|&gt;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"Qu"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), as.numeric))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="assumptions" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="assumptions"><span class="header-section-number">2.4</span> Assumptions</h2>
<p>Missing values can bias PCA results. If you have missing values, you should either impute, remove the observations, or drop the columns. Fortunately there are no missing values in this dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(pca_numeric))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Qu1  Qu2  Qu3  Qu4  Qu5  Qu6  Qu7  Qu8  Qu9 Qu10 Qu11 Qu12 Qu13 Qu14 Qu15 Qu16 
   0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0 
Qu17 Qu18 Qu19 Qu20 Qu21 Qu22 Qu23 Qu24 Qu25 
   0    0    0    0    0    0    0    0    0 </code></pre>
</div>
</div>
<p>There are a few other assumptions to be aware of:</p>
<ul>
<li>PCA is based on correlation coefficients, so all variables should be linearly related (<em>r</em> &gt; .3) to at least one other variable.</li>
<li>The next assumption is that the sample sizes should be large. As a rule of thumb, there should be at least 5 cases per variable.</li>
<li>There should be no outliers. Component scores greater than 3 standard deviations away from the mean can have a disproportionate influence on the results.</li>
</ul>
<p>I found two procedures used to test assumptions (though it does not test all of them). They both operate on the correlation matrix.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>corr_mtrx <span class="ot">&lt;-</span> <span class="fu">cor</span>(pca_numeric)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The first assumption could be tested by querying the matrix for the max correlations. The worst is q20.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ggcorrplot::ggcorrplot(corr_mtrx)</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>max_cor <span class="ot">&lt;-</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>(corr_mtrx) <span class="sc">|&gt;</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">var1 =</span> <span class="fu">factor</span>(q_colnames, <span class="at">levels =</span> q_colnames)) <span class="sc">|&gt;</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(Qu1<span class="sc">:</span>Qu25), <span class="at">names_to =</span> <span class="st">"var2"</span>, <span class="at">values_to =</span> <span class="st">"rho"</span>) <span class="sc">|&gt;</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(var1 <span class="sc">!=</span> var2) <span class="sc">|&gt;</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(<span class="at">by =</span> var1, <span class="at">order_by =</span> rho, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>max_cor_v <span class="ot">&lt;-</span> <span class="fu">round</span>(max_cor<span class="sc">$</span>rho, <span class="dv">2</span>)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(max_cor_v) <span class="ot">&lt;-</span> max_cor<span class="sc">$</span>var1</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>max_cor_v</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> Qu1  Qu2  Qu3  Qu4  Qu5  Qu6  Qu7  Qu8  Qu9 Qu10 Qu11 Qu12 Qu13 Qu14 Qu15 Qu16 
0.58 0.68 0.69 0.68 0.53 0.56 0.63 0.63 0.55 0.60 0.60 0.62 0.69 0.80 0.80 0.59 
Qu17 Qu18 Qu19 Qu20 Qu21 Qu22 Qu23 Qu24 Qu25 
0.63 0.63 0.68 0.38 0.69 0.69 0.59 0.62 0.62 </code></pre>
</div>
</div>
<p>The Kaiser-Meyer-Olkin (KMO) measure of sampling adequacy compares the variable correlations to the partial correlations in the data. The test measures sampling adequacy for each variable in the model and for the complete model.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<p><span class="math display">\[
\text{KMO}_j = \frac{\sum_{i \ne j}r_{ij}^2}{\sum_{i \ne j}r_{ij}^2 + \sum_{i \ne j} u}
\]</span></p>
<p>where <span class="math inline">\(r_{ij}\)</span> are correlations, and <span class="math inline">\(u_{ij}\)</span> are partial covariances. Scores range from 0 to 1. Values should be at least .6 to justify a PCA. Values over .8 are preferable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>EFAtools<span class="sc">::</span><span class="fu">KMO</span>(corr_mtrx)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
── Kaiser-Meyer-Olkin criterion (KMO) ──────────────────────────────────────────

✔ The overall KMO value for your data is meritorious.
  These data are probably suitable for factor analysis.

  Overall: 0.833

  For each variable:
  Qu1   Qu2   Qu3   Qu4   Qu5   Qu6   Qu7   Qu8   Qu9  Qu10  Qu11  Qu12  Qu13 
0.817 0.740 0.854 0.889 0.909 0.906 0.843 0.829 0.849 0.762 0.744 0.899 0.857 
 Qu14  Qu15  Qu16  Qu17  Qu18  Qu19  Qu20  Qu21  Qu22  Qu23  Qu24  Qu25 
0.824 0.877 0.913 0.880 0.794 0.803 0.834 0.725 0.724 0.831 0.741 0.803 </code></pre>
</div>
</div>
<p>Bartlett’s test of sphericity tests the null hypothesis that the correlation matrix is an identity matrix, i.e., there are no correlations between any variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>EFAtools<span class="sc">::</span><span class="fu">BARTLETT</span>(corr_mtrx, <span class="at">N =</span> <span class="fu">nrow</span>(pca_dat))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
✔ The Bartlett's test of sphericity was significant at an alpha level of .05.
  These data are probably suitable for factor analysis.

  𝜒²(300) = 4214.06, p &lt; .001</code></pre>
</div>
</div>
</section>
<section id="perform-pca" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="perform-pca"><span class="header-section-number">2.5</span> Perform PCA</h2>
<p>There are two stats package functions for PCA, <code>princomp()</code> and <code>prcomp()</code>. The documentation suggests <code>prcomp()</code> is preferable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>pca_result <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(pca_numeric, <span class="at">center =</span> <span class="cn">TRUE</span>, <span class="at">scale. =</span> <span class="cn">TRUE</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(pca_result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Importance of components:
                          PC1    PC2    PC3    PC4     PC5     PC6    PC7
Standard deviation     2.5942 1.8282 1.7022 1.4204 1.02418 0.97525 0.9460
Proportion of Variance 0.2692 0.1337 0.1159 0.0807 0.04196 0.03804 0.0358
Cumulative Proportion  0.2692 0.4029 0.5188 0.5995 0.64145 0.67949 0.7153
                           PC8    PC9    PC10    PC11    PC12    PC13    PC14
Standard deviation     0.87741 0.8306 0.79657 0.74071 0.71685 0.71026 0.67118
Proportion of Variance 0.03079 0.0276 0.02538 0.02195 0.02056 0.02018 0.01802
Cumulative Proportion  0.74608 0.7737 0.79906 0.82101 0.84156 0.86174 0.87976
                          PC15    PC16    PC17    PC18    PC19   PC20    PC21
Standard deviation     0.61776 0.60252 0.59119 0.56626 0.54597 0.5315 0.50522
Proportion of Variance 0.01527 0.01452 0.01398 0.01283 0.01192 0.0113 0.01021
Cumulative Proportion  0.89502 0.90955 0.92353 0.93635 0.94828 0.9596 0.96978
                          PC22    PC23    PC24    PC25
Standard deviation     0.48827 0.45536 0.41360 0.37230
Proportion of Variance 0.00954 0.00829 0.00684 0.00554
Cumulative Proportion  0.97932 0.98761 0.99446 1.00000</code></pre>
</div>
</div>
<p>The top 4 components account for 60% of the variance. Subsequent components add less than 4% of explanatory power. The <em>component loadings</em> show how they relate to each column. Loadings are the eigenvectors of the covariance matrix. They are in the <code>rotatation</code> object returned by <code>prcomp()</code>. You should scale them by standard deviations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>pca_loadings <span class="ot">&lt;-</span> pca_result<span class="sc">$</span>rotation <span class="sc">%*%</span> <span class="fu">diag</span>(pca_result<span class="sc">$</span>sdev)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here are the loadings from the top 8 components.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(pca_loadings) <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"pc"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>pca_loadings <span class="sc">|&gt;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="at">rownames =</span> <span class="st">"Q"</span>) <span class="sc">|&gt;</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Area =</span> <span class="fu">case_when</span>(</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    Q <span class="sc">%in%</span> q_motivation <span class="sc">~</span> <span class="st">"Motivation"</span>,</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    Q <span class="sc">%in%</span> q_dependability <span class="sc">~</span> <span class="st">"Dependability"</span>,</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    Q <span class="sc">%in%</span> q_enthusiasm <span class="sc">~</span> <span class="st">"Enthusiasm"</span>,</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    Q <span class="sc">%in%</span> q_commitment <span class="sc">~</span> <span class="st">"Commitment"</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Area, Q, pc1<span class="sc">:</span>pc8) <span class="sc">|&gt;</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Area, Q) <span class="sc">|&gt;</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">fmt_number</span>(pc1<span class="sc">:</span>pc8, <span class="at">decimals =</span> <span class="dv">3</span>) <span class="sc">|&gt;</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">data_color</span>(</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> pc1<span class="sc">:</span>pc8, </span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"numeric"</span>,</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">"firebrick"</span>, <span class="st">"white"</span>, <span class="st">"dodgerblue3"</span>),</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">domain =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">tab_row_group</span>(<span class="at">label =</span> <span class="st">"Commitment"</span>, <span class="at">rows =</span> Area <span class="sc">==</span> <span class="st">"Commitment"</span>) <span class="sc">|&gt;</span></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">tab_row_group</span>(<span class="at">label =</span> <span class="st">"Enthusiasm"</span>, <span class="at">rows =</span> Area <span class="sc">==</span> <span class="st">"Enthusiasm"</span>) <span class="sc">|&gt;</span></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">tab_row_group</span>(<span class="at">label =</span> <span class="st">"Dependability"</span>, <span class="at">rows =</span> Area <span class="sc">==</span> <span class="st">"Dependability"</span>) <span class="sc">|&gt;</span></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">tab_row_group</span>(<span class="at">label =</span> <span class="st">"Motivation"</span>, <span class="at">rows =</span> Area <span class="sc">==</span> <span class="st">"Motivation"</span>) <span class="sc">|&gt;</span></span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">cols_hide</span>(<span class="at">columns =</span> Area) <span class="sc">|&gt;</span></span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">tab_header</span>(<span class="st">"Factor loadings by survey area."</span>) <span class="sc">|&gt;</span></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">tab_options</span>(<span class="at">heading.align =</span> <span class="st">"left"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="yibzpbibgm" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#yibzpbibgm table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#yibzpbibgm thead, #yibzpbibgm tbody, #yibzpbibgm tfoot, #yibzpbibgm tr, #yibzpbibgm td, #yibzpbibgm th {
  border-style: none;
}

#yibzpbibgm p {
  margin: 0;
  padding: 0;
}

#yibzpbibgm .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#yibzpbibgm .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#yibzpbibgm .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#yibzpbibgm .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#yibzpbibgm .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yibzpbibgm .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yibzpbibgm .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yibzpbibgm .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#yibzpbibgm .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#yibzpbibgm .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#yibzpbibgm .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#yibzpbibgm .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#yibzpbibgm .gt_spanner_row {
  border-bottom-style: hidden;
}

#yibzpbibgm .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#yibzpbibgm .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#yibzpbibgm .gt_from_md > :first-child {
  margin-top: 0;
}

#yibzpbibgm .gt_from_md > :last-child {
  margin-bottom: 0;
}

#yibzpbibgm .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#yibzpbibgm .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#yibzpbibgm .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#yibzpbibgm .gt_row_group_first td {
  border-top-width: 2px;
}

#yibzpbibgm .gt_row_group_first th {
  border-top-width: 2px;
}

#yibzpbibgm .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yibzpbibgm .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#yibzpbibgm .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#yibzpbibgm .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yibzpbibgm .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yibzpbibgm .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#yibzpbibgm .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#yibzpbibgm .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#yibzpbibgm .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yibzpbibgm .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yibzpbibgm .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yibzpbibgm .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yibzpbibgm .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yibzpbibgm .gt_left {
  text-align: left;
}

#yibzpbibgm .gt_center {
  text-align: center;
}

#yibzpbibgm .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#yibzpbibgm .gt_font_normal {
  font-weight: normal;
}

#yibzpbibgm .gt_font_bold {
  font-weight: bold;
}

#yibzpbibgm .gt_font_italic {
  font-style: italic;
}

#yibzpbibgm .gt_super {
  font-size: 65%;
}

#yibzpbibgm .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#yibzpbibgm .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#yibzpbibgm .gt_indent_1 {
  text-indent: 5px;
}

#yibzpbibgm .gt_indent_2 {
  text-indent: 10px;
}

#yibzpbibgm .gt_indent_3 {
  text-indent: 15px;
}

#yibzpbibgm .gt_indent_4 {
  text-indent: 20px;
}

#yibzpbibgm .gt_indent_5 {
  text-indent: 25px;
}

#yibzpbibgm .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#yibzpbibgm div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_heading">
<th colspan="9" class="gt_heading gt_title gt_font_normal gt_bottom_border">Factor loadings by survey area.</th>
</tr>
<tr class="odd gt_col_headings">
<th id="Q" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Q</th>
<th id="pc1" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">pc1</th>
<th id="pc2" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">pc2</th>
<th id="pc3" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">pc3</th>
<th id="pc4" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">pc4</th>
<th id="pc5" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">pc5</th>
<th id="pc6" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">pc6</th>
<th id="pc7" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">pc7</th>
<th id="pc8" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">pc8</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd gt_group_heading_row">
<td colspan="9" id="Motivation" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Motivation</td>
</tr>
<tr class="even gt_row_group_first">
<td class="gt_row gt_left" headers="Motivation  Q">Qu12</td>
<td class="gt_row gt_right" headers="Motivation  pc1" style="background-color: #82A1DF; color: #FFFFFF">0.656</td>
<td class="gt_row gt_right" headers="Motivation  pc2" style="background-color: #CBD5F2; color: #000000">0.282</td>
<td class="gt_row gt_right" headers="Motivation  pc3" style="background-color: #FEF5F4; color: #000000">−0.046</td>
<td class="gt_row gt_right" headers="Motivation  pc4" style="background-color: #EFB7AD; color: #000000">−0.343</td>
<td class="gt_row gt_right" headers="Motivation  pc5" style="background-color: #FAE1DC; color: #000000">−0.142</td>
<td class="gt_row gt_right" headers="Motivation  pc6" style="background-color: #F9DAD5; color: #000000">−0.172</td>
<td class="gt_row gt_right" headers="Motivation  pc7" style="background-color: #EFF2FB; color: #000000">0.089</td>
<td class="gt_row gt_right" headers="Motivation  pc8" style="background-color: #FEF9F9; color: #000000">−0.026</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Motivation  Q">Qu13</td>
<td class="gt_row gt_right" headers="Motivation  pc1" style="background-color: #85A3E0; color: #FFFFFF">0.642</td>
<td class="gt_row gt_right" headers="Motivation  pc2" style="background-color: #CED8F2; color: #000000">0.265</td>
<td class="gt_row gt_right" headers="Motivation  pc3" style="background-color: #F9DAD4; color: #000000">−0.175</td>
<td class="gt_row gt_right" headers="Motivation  pc4" style="background-color: #EFB6AC; color: #000000">−0.347</td>
<td class="gt_row gt_right" headers="Motivation  pc5" style="background-color: #F7D3CD; color: #000000">−0.205</td>
<td class="gt_row gt_right" headers="Motivation  pc6" style="background-color: #FDF4F2; color: #000000">−0.052</td>
<td class="gt_row gt_right" headers="Motivation  pc7" style="background-color: #FADED9; color: #000000">−0.155</td>
<td class="gt_row gt_right" headers="Motivation  pc8" style="background-color: #EDF0FA; color: #000000">0.101</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Motivation  Q">Qu3</td>
<td class="gt_row gt_right" headers="Motivation  pc1" style="background-color: #7F9FDE; color: #FFFFFF">0.671</td>
<td class="gt_row gt_right" headers="Motivation  pc2" style="background-color: #CAD5F1; color: #000000">0.286</td>
<td class="gt_row gt_right" headers="Motivation  pc3" style="background-color: #F7D1CA; color: #000000">−0.217</td>
<td class="gt_row gt_right" headers="Motivation  pc4" style="background-color: #F4C7BF; color: #000000">−0.265</td>
<td class="gt_row gt_right" headers="Motivation  pc5" style="background-color: #F3C4BC; color: #000000">−0.279</td>
<td class="gt_row gt_right" headers="Motivation  pc6" style="background-color: #F9FAFD; color: #000000">0.036</td>
<td class="gt_row gt_right" headers="Motivation  pc7" style="background-color: #FAE3DE; color: #000000">−0.134</td>
<td class="gt_row gt_right" headers="Motivation  pc8" style="background-color: #DBE2F6; color: #000000">0.197</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Motivation  Q">Qu4</td>
<td class="gt_row gt_right" headers="Motivation  pc1" style="background-color: #7D9EDE; color: #FFFFFF">0.677</td>
<td class="gt_row gt_right" headers="Motivation  pc2" style="background-color: #DAE1F5; color: #000000">0.203</td>
<td class="gt_row gt_right" headers="Motivation  pc3" style="background-color: #F4C5BD; color: #000000">−0.274</td>
<td class="gt_row gt_right" headers="Motivation  pc4" style="background-color: #F3C2BA; color: #000000">−0.287</td>
<td class="gt_row gt_right" headers="Motivation  pc5" style="background-color: #FBE5E1; color: #000000">−0.124</td>
<td class="gt_row gt_right" headers="Motivation  pc6" style="background-color: #FFFDFD; color: #000000">−0.010</td>
<td class="gt_row gt_right" headers="Motivation  pc7" style="background-color: #FFFEFE; color: #000000">−0.004</td>
<td class="gt_row gt_right" headers="Motivation  pc8" style="background-color: #FCECE9; color: #000000">−0.090</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Motivation  Q">Qu5</td>
<td class="gt_row gt_right" headers="Motivation  pc1" style="background-color: #90AAE3; color: #000000">0.586</td>
<td class="gt_row gt_right" headers="Motivation  pc2" style="background-color: #DAE1F5; color: #000000">0.203</td>
<td class="gt_row gt_right" headers="Motivation  pc3" style="background-color: #FCEAE6; color: #000000">−0.100</td>
<td class="gt_row gt_right" headers="Motivation  pc4" style="background-color: #F3C5BD; color: #000000">−0.276</td>
<td class="gt_row gt_right" headers="Motivation  pc5" style="background-color: #FEF6F4; color: #000000">−0.043</td>
<td class="gt_row gt_right" headers="Motivation  pc6" style="background-color: #FBE5E1; color: #000000">−0.123</td>
<td class="gt_row gt_right" headers="Motivation  pc7" style="background-color: #F6CEC7; color: #000000">−0.232</td>
<td class="gt_row gt_right" headers="Motivation  pc8" style="background-color: #FCEDEB; color: #000000">−0.082</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Motivation  Q">Qu6</td>
<td class="gt_row gt_right" headers="Motivation  pc1" style="background-color: #83A1DF; color: #FFFFFF">0.652</td>
<td class="gt_row gt_right" headers="Motivation  pc2" style="background-color: #C9D3F1; color: #000000">0.296</td>
<td class="gt_row gt_right" headers="Motivation  pc3" style="background-color: #FDF4F2; color: #000000">−0.052</td>
<td class="gt_row gt_right" headers="Motivation  pc4" style="background-color: #F3C2B9; color: #000000">−0.290</td>
<td class="gt_row gt_right" headers="Motivation  pc5" style="background-color: #F4F6FC; color: #000000">0.061</td>
<td class="gt_row gt_right" headers="Motivation  pc6" style="background-color: #FBFCFE; color: #000000">0.023</td>
<td class="gt_row gt_right" headers="Motivation  pc7" style="background-color: #FDF1EF; color: #000000">−0.064</td>
<td class="gt_row gt_right" headers="Motivation  pc8" style="background-color: #F9DBD6; color: #000000">−0.169</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Motivation  Q">Qu7</td>
<td class="gt_row gt_right" headers="Motivation  pc1" style="background-color: #96AEE4; color: #000000">0.559</td>
<td class="gt_row gt_right" headers="Motivation  pc2" style="background-color: #C2CEEF; color: #000000">0.332</td>
<td class="gt_row gt_right" headers="Motivation  pc3" style="background-color: #FFFFFF; color: #000000">−0.001</td>
<td class="gt_row gt_right" headers="Motivation  pc4" style="background-color: #F6D0C9; color: #000000">−0.223</td>
<td class="gt_row gt_right" headers="Motivation  pc5" style="background-color: #B1C1EB; color: #000000">0.421</td>
<td class="gt_row gt_right" headers="Motivation  pc6" style="background-color: #E5EAF8; color: #000000">0.143</td>
<td class="gt_row gt_right" headers="Motivation  pc7" style="background-color: #BECBEE; color: #000000">0.353</td>
<td class="gt_row gt_right" headers="Motivation  pc8" style="background-color: #EEF1FB; color: #000000">0.096</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Motivation  Q">Qu8</td>
<td class="gt_row gt_right" headers="Motivation  pc1" style="background-color: #9CB3E5; color: #000000">0.527</td>
<td class="gt_row gt_right" headers="Motivation  pc2" style="background-color: #BAC8ED; color: #000000">0.375</td>
<td class="gt_row gt_right" headers="Motivation  pc3" style="background-color: #F8D9D3; color: #000000">−0.181</td>
<td class="gt_row gt_right" headers="Motivation  pc4" style="background-color: #FCEBE8; color: #000000">−0.094</td>
<td class="gt_row gt_right" headers="Motivation  pc5" style="background-color: #A7BAE8; color: #000000">0.473</td>
<td class="gt_row gt_right" headers="Motivation  pc6" style="background-color: #D6DEF4; color: #000000">0.225</td>
<td class="gt_row gt_right" headers="Motivation  pc7" style="background-color: #CDD7F2; color: #000000">0.273</td>
<td class="gt_row gt_right" headers="Motivation  pc8" style="background-color: #FCECE9; color: #000000">−0.088</td>
</tr>
<tr class="even gt_group_heading_row">
<td colspan="9" id="Dependability" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Dependability</td>
</tr>
<tr class="odd gt_row_group_first">
<td class="gt_row gt_left" headers="Dependability  Q">Qu14</td>
<td class="gt_row gt_right" headers="Dependability  pc1" style="background-color: #83A2DF; color: #FFFFFF">0.649</td>
<td class="gt_row gt_right" headers="Dependability  pc2" style="background-color: #F2C1B8; color: #000000">−0.295</td>
<td class="gt_row gt_right" headers="Dependability  pc3" style="background-color: #ACBEEA; color: #000000">0.444</td>
<td class="gt_row gt_right" headers="Dependability  pc4" style="background-color: #F3F5FC; color: #000000">0.065</td>
<td class="gt_row gt_right" headers="Dependability  pc5" style="background-color: #F5CAC3; color: #000000">−0.250</td>
<td class="gt_row gt_right" headers="Dependability  pc6" style="background-color: #F7F8FD; color: #000000">0.046</td>
<td class="gt_row gt_right" headers="Dependability  pc7" style="background-color: #EBEFFA; color: #000000">0.108</td>
<td class="gt_row gt_right" headers="Dependability  pc8" style="background-color: #E7EBF9; color: #000000">0.132</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Dependability  Q">Qu15</td>
<td class="gt_row gt_right" headers="Dependability  pc1" style="background-color: #7F9FDE; color: #FFFFFF">0.668</td>
<td class="gt_row gt_right" headers="Dependability  pc2" style="background-color: #F0B9AF; color: #000000">−0.333</td>
<td class="gt_row gt_right" headers="Dependability  pc3" style="background-color: #B4C4EC; color: #000000">0.405</td>
<td class="gt_row gt_right" headers="Dependability  pc4" style="background-color: #F4F6FC; color: #000000">0.062</td>
<td class="gt_row gt_right" headers="Dependability  pc5" style="background-color: #FBE5E1; color: #000000">−0.123</td>
<td class="gt_row gt_right" headers="Dependability  pc6" style="background-color: #FFFCFB; color: #000000">−0.015</td>
<td class="gt_row gt_right" headers="Dependability  pc7" style="background-color: #F4F6FC; color: #000000">0.061</td>
<td class="gt_row gt_right" headers="Dependability  pc8" style="background-color: #D5DDF4; color: #000000">0.227</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Dependability  Q">Qu16</td>
<td class="gt_row gt_right" headers="Dependability  pc1" style="background-color: #89A6E1; color: #000000">0.621</td>
<td class="gt_row gt_right" headers="Dependability  pc2" style="background-color: #F5CCC5; color: #000000">−0.242</td>
<td class="gt_row gt_right" headers="Dependability  pc3" style="background-color: #BFCCEE; color: #000000">0.349</td>
<td class="gt_row gt_right" headers="Dependability  pc4" style="background-color: #F2F4FC; color: #000000">0.071</td>
<td class="gt_row gt_right" headers="Dependability  pc5" style="background-color: #DAE1F5; color: #000000">0.204</td>
<td class="gt_row gt_right" headers="Dependability  pc6" style="background-color: #FBE4E0; color: #000000">−0.125</td>
<td class="gt_row gt_right" headers="Dependability  pc7" style="background-color: #FCE9E6; color: #000000">−0.103</td>
<td class="gt_row gt_right" headers="Dependability  pc8" style="background-color: #EEF1FB; color: #000000">0.096</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Dependability  Q">Qu17</td>
<td class="gt_row gt_right" headers="Dependability  pc1" style="background-color: #95AEE4; color: #000000">0.561</td>
<td class="gt_row gt_right" headers="Dependability  pc2" style="background-color: #ECAAA0; color: #000000">−0.401</td>
<td class="gt_row gt_right" headers="Dependability  pc3" style="background-color: #BFCCEE; color: #000000">0.349</td>
<td class="gt_row gt_right" headers="Dependability  pc4" style="background-color: #EFF2FB; color: #000000">0.085</td>
<td class="gt_row gt_right" headers="Dependability  pc5" style="background-color: #E2E7F8; color: #000000">0.158</td>
<td class="gt_row gt_right" headers="Dependability  pc6" style="background-color: #F1F3FB; color: #000000">0.078</td>
<td class="gt_row gt_right" headers="Dependability  pc7" style="background-color: #F7D3CD; color: #000000">−0.208</td>
<td class="gt_row gt_right" headers="Dependability  pc8" style="background-color: #D1DAF3; color: #000000">0.253</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Dependability  Q">Qu18</td>
<td class="gt_row gt_right" headers="Dependability  pc1" style="background-color: #8AA6E1; color: #000000">0.617</td>
<td class="gt_row gt_right" headers="Dependability  pc2" style="background-color: #F3C2B9; color: #000000">−0.289</td>
<td class="gt_row gt_right" headers="Dependability  pc3" style="background-color: #BDCBEE; color: #000000">0.355</td>
<td class="gt_row gt_right" headers="Dependability  pc4" style="background-color: #EBEFFA; color: #000000">0.110</td>
<td class="gt_row gt_right" headers="Dependability  pc5" style="background-color: #C9D4F1; color: #000000">0.292</td>
<td class="gt_row gt_right" headers="Dependability  pc6" style="background-color: #FCEDEB; color: #000000">−0.082</td>
<td class="gt_row gt_right" headers="Dependability  pc7" style="background-color: #FDF3F1; color: #000000">−0.056</td>
<td class="gt_row gt_right" headers="Dependability  pc8" style="background-color: #DDE3F6; color: #000000">0.186</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Dependability  Q">Qu19</td>
<td class="gt_row gt_right" headers="Dependability  pc1" style="background-color: #92ABE3; color: #000000">0.579</td>
<td class="gt_row gt_right" headers="Dependability  pc2" style="background-color: #F8D8D2; color: #000000">−0.185</td>
<td class="gt_row gt_right" headers="Dependability  pc3" style="background-color: #A7BAE8; color: #000000">0.473</td>
<td class="gt_row gt_right" headers="Dependability  pc4" style="background-color: #D6DEF5; color: #000000">0.221</td>
<td class="gt_row gt_right" headers="Dependability  pc5" style="background-color: #FDFDFF; color: #000000">0.010</td>
<td class="gt_row gt_right" headers="Dependability  pc6" style="background-color: #EDF0FA; color: #000000">0.100</td>
<td class="gt_row gt_right" headers="Dependability  pc7" style="background-color: #F6F8FD; color: #000000">0.049</td>
<td class="gt_row gt_right" headers="Dependability  pc8" style="background-color: #EEB1A6; color: #000000">−0.371</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Dependability  Q">Qu2</td>
<td class="gt_row gt_right" headers="Dependability  pc1" style="background-color: #99B1E5; color: #000000">0.541</td>
<td class="gt_row gt_right" headers="Dependability  pc2" style="background-color: #F7D4CE; color: #000000">−0.203</td>
<td class="gt_row gt_right" headers="Dependability  pc3" style="background-color: #B2C2EB; color: #000000">0.414</td>
<td class="gt_row gt_right" headers="Dependability  pc4" style="background-color: #DCE3F6; color: #000000">0.192</td>
<td class="gt_row gt_right" headers="Dependability  pc5" style="background-color: #F0BAB0; color: #000000">−0.328</td>
<td class="gt_row gt_right" headers="Dependability  pc6" style="background-color: #DCE2F6; color: #000000">0.193</td>
<td class="gt_row gt_right" headers="Dependability  pc7" style="background-color: #E4E9F8; color: #000000">0.150</td>
<td class="gt_row gt_right" headers="Dependability  pc8" style="background-color: #EBA99E; color: #000000">−0.409</td>
</tr>
<tr class="even gt_group_heading_row">
<td colspan="9" id="Enthusiasm" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Enthusiasm</td>
</tr>
<tr class="odd gt_row_group_first">
<td class="gt_row gt_left" headers="Enthusiasm  Q">Qu20</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc1" style="background-color: #BDCBEE; color: #000000">0.357</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc2" style="background-color: #F6CEC8; color: #000000">−0.229</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc3" style="background-color: #F0B8AF; color: #000000">−0.335</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc4" style="background-color: #EFF2FB; color: #000000">0.089</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc5" style="background-color: #E1E6F7; color: #000000">0.165</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc6" style="background-color: #AFC0EA; color: #000000">0.432</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc7" style="background-color: #E08A7D; color: #FFFFFF">−0.556</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc8" style="background-color: #F8D6D1; color: #000000">−0.191</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Enthusiasm  Q">Qu21</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc1" style="background-color: #D2DBF3; color: #000000">0.244</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc2" style="background-color: #E79F93; color: #000000">−0.457</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc3" style="background-color: #DD8577; color: #FFFFFF">−0.583</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc4" style="background-color: #F7F9FD; color: #000000">0.043</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc5" style="background-color: #FCE8E5; color: #000000">−0.107</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc6" style="background-color: #BBC9ED; color: #000000">0.366</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc7" style="background-color: #E3E8F8; color: #000000">0.154</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc8" style="background-color: #E4E9F8; color: #000000">0.148</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Enthusiasm  Q">Qu22</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc1" style="background-color: #CED7F2; color: #000000">0.269</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc2" style="background-color: #ECABA0; color: #000000">−0.398</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc3" style="background-color: #DE8678; color: #FFFFFF">−0.579</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc4" style="background-color: #E7EBF9; color: #000000">0.132</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc5" style="background-color: #F6CFC8; color: #000000">−0.228</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc6" style="background-color: #D2DBF3; color: #000000">0.246</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc7" style="background-color: #C4D0F0; color: #000000">0.318</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc8" style="background-color: #E9EDF9; color: #000000">0.118</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Enthusiasm  Q">Qu23</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc1" style="background-color: #A1B6E7; color: #000000">0.505</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc2" style="background-color: #F2BEB6; color: #000000">−0.306</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc3" style="background-color: #EAA69B; color: #000000">−0.422</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc4" style="background-color: #CCD6F2; color: #000000">0.275</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc5" style="background-color: #FFFEFE; color: #000000">−0.004</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc6" style="background-color: #EEB2A8; color: #000000">−0.366</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc7" style="background-color: #ECEFFA; color: #000000">0.106</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc8" style="background-color: #FAE2DE; color: #000000">−0.135</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Enthusiasm  Q">Qu24</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc1" style="background-color: #D0DAF3; color: #000000">0.253</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc2" style="background-color: #E4968A; color: #000000">−0.498</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc3" style="background-color: #DE8779; color: #FFFFFF">−0.573</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc4" style="background-color: #E6EAF8; color: #000000">0.139</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc5" style="background-color: #F2F5FC; color: #000000">0.069</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc6" style="background-color: #F1BEB5; color: #000000">−0.309</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc7" style="background-color: #FCEDEA; color: #000000">−0.085</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc8" style="background-color: #FFFEFE; color: #000000">−0.005</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Enthusiasm  Q">Qu25</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc1" style="background-color: #B1C1EB; color: #000000">0.423</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc2" style="background-color: #EAA599; color: #000000">−0.428</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc3" style="background-color: #E79F93; color: #000000">−0.458</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc4" style="background-color: #D6DEF4; color: #000000">0.224</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc5" style="background-color: #DEE4F7; color: #000000">0.179</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc6" style="background-color: #F4C6BE; color: #000000">−0.270</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc7" style="background-color: #F6F7FD; color: #000000">0.051</td>
<td class="gt_row gt_right" headers="Enthusiasm  pc8" style="background-color: #FBE4E0; color: #000000">−0.128</td>
</tr>
<tr class="odd gt_group_heading_row">
<td colspan="9" id="Commitment" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Commitment</td>
</tr>
<tr class="even gt_row_group_first">
<td class="gt_row gt_left" headers="Commitment  Q">Qu1</td>
<td class="gt_row gt_right" headers="Commitment  pc1" style="background-color: #D5DDF4; color: #000000">0.230</td>
<td class="gt_row gt_right" headers="Commitment  pc2" style="background-color: #9AB1E5; color: #000000">0.540</td>
<td class="gt_row gt_right" headers="Commitment  pc3" style="background-color: #FCEEEB; color: #000000">−0.081</td>
<td class="gt_row gt_right" headers="Commitment  pc4" style="background-color: #99B0E5; color: #000000">0.545</td>
<td class="gt_row gt_right" headers="Commitment  pc5" style="background-color: #FEF8F7; color: #000000">−0.033</td>
<td class="gt_row gt_right" headers="Commitment  pc6" style="background-color: #FFFCFC; color: #000000">−0.014</td>
<td class="gt_row gt_right" headers="Commitment  pc7" style="background-color: #FEF5F3; color: #000000">−0.048</td>
<td class="gt_row gt_right" headers="Commitment  pc8" style="background-color: #D5DDF4; color: #000000">0.228</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Commitment  Q">Qu10</td>
<td class="gt_row gt_right" headers="Commitment  pc1" style="background-color: #C1CEEF; color: #000000">0.335</td>
<td class="gt_row gt_right" headers="Commitment  pc2" style="background-color: #93ACE3; color: #000000">0.574</td>
<td class="gt_row gt_right" headers="Commitment  pc3" style="background-color: #F9DDD8; color: #000000">−0.161</td>
<td class="gt_row gt_right" headers="Commitment  pc4" style="background-color: #9BB2E5; color: #000000">0.535</td>
<td class="gt_row gt_right" headers="Commitment  pc5" style="background-color: #F9FAFD; color: #000000">0.034</td>
<td class="gt_row gt_right" headers="Commitment  pc6" style="background-color: #FCEDEA; color: #000000">−0.085</td>
<td class="gt_row gt_right" headers="Commitment  pc7" style="background-color: #FDF0EE; color: #000000">−0.070</td>
<td class="gt_row gt_right" headers="Commitment  pc8" style="background-color: #FCECE9; color: #000000">−0.089</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Commitment  Q">Qu11</td>
<td class="gt_row gt_right" headers="Commitment  pc1" style="background-color: #E3E8F8; color: #000000">0.153</td>
<td class="gt_row gt_right" headers="Commitment  pc2" style="background-color: #A6B9E8; color: #000000">0.479</td>
<td class="gt_row gt_right" headers="Commitment  pc3" style="background-color: #FAE0DB; color: #000000">−0.147</td>
<td class="gt_row gt_right" headers="Commitment  pc4" style="background-color: #8AA6E1; color: #000000">0.619</td>
<td class="gt_row gt_right" headers="Commitment  pc5" style="background-color: #FDF1EF; color: #000000">−0.064</td>
<td class="gt_row gt_right" headers="Commitment  pc6" style="background-color: #D9E0F5; color: #000000">0.207</td>
<td class="gt_row gt_right" headers="Commitment  pc7" style="background-color: #FBE7E3; color: #000000">−0.114</td>
<td class="gt_row gt_right" headers="Commitment  pc8" style="background-color: #EBEEFA; color: #000000">0.111</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Commitment  Q">Qu9</td>
<td class="gt_row gt_right" headers="Commitment  pc1" style="background-color: #C5D1F0; color: #000000">0.314</td>
<td class="gt_row gt_right" headers="Commitment  pc2" style="background-color: #95ADE4; color: #000000">0.564</td>
<td class="gt_row gt_right" headers="Commitment  pc3" style="background-color: #E9EDF9; color: #000000">0.123</td>
<td class="gt_row gt_right" headers="Commitment  pc4" style="background-color: #B7C6EC; color: #000000">0.391</td>
<td class="gt_row gt_right" headers="Commitment  pc5" style="background-color: #FBE4E0; color: #000000">−0.127</td>
<td class="gt_row gt_right" headers="Commitment  pc6" style="background-color: #FAE2DE; color: #000000">−0.136</td>
<td class="gt_row gt_right" headers="Commitment  pc7" style="background-color: #E8ECF9; color: #000000">0.125</td>
<td class="gt_row gt_right" headers="Commitment  pc8" style="background-color: #FFFFFF; color: #000000">−0.001</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">biplot</span>(pca_result, <span class="at">scale =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02-pca_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>pca_result<span class="sc">$</span>sdev<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> <span class="fu">sum</span>(pca_result<span class="sc">$</span>sdev<span class="sc">^</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.269193743 0.133693712 0.115900948 0.080701891 0.041958016 0.038044232
 [7] 0.035795413 0.030794254 0.027597268 0.025380915 0.021945950 0.020555035
[13] 0.020178720 0.018019257 0.015265125 0.014521264 0.013980218 0.012825942
[19] 0.011923156 0.011297921 0.010209762 0.009536248 0.008293999 0.006842642
[25] 0.005544370</code></pre>
</div>
</div>
<p>The communality is the proportion of each variable’s variance that is accounted for by the principal components analysis and can also be expressed as a percentage.</p>
<p>A principal components analysis will produce as many components as there are variables. However, the purpose of principal components analysis is to explain as much of the variance in your variables as possible using as few components as possible. After you have extracted your components, there are four major criteria that can help you decide on the number of components to retain: (a) the eigenvalue-one criterion, (b) the proportion of total variance accounted for, (c) the scree plot test, and (d) the interpretability criterion. All except for the first criterion will require some degree of subjective analysis.</p>
</section>
<section id="appendix-eigenvectors" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="appendix-eigenvectors"><span class="header-section-number">2.6</span> Appendix: Eigenvectors</h2>
<p>A square matrix, <span class="math inline">\(\textbf{A}\)</span>, can be decomposed into eigenvalues, <span class="math inline">\(\lambda\)</span>, and eigenvectors, <span class="math inline">\(\textbf{v}\)</span>.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<p><span id="eq-eigen1"><span class="math display">\[
\textbf{A} \textbf{v} = \lambda \textbf{v}
\tag{2.1}\]</span></span></p>
<p>For example, <span class="math inline">\(6\)</span> and <span class="math inline">\(\begin{bmatrix}1 \\ 4 \end{bmatrix}\)</span> are an eigenvalue and eigenvector here:</p>
<p><span class="math display">\[
\begin{bmatrix} -6 &amp; 3 \\ 4 &amp; 5 \end{bmatrix} \begin{bmatrix}1 \\ 4 \end{bmatrix} = 6 \begin{bmatrix}1 \\ 4 \end{bmatrix}
\]</span></p>
<p><a href="#eq-eigen1" class="quarto-xref">Equation&nbsp;<span>2.1</span></a> can be re-expressed as <span class="math inline">\(\textbf{A} \textbf{v} - \lambda \textbf{I} \textbf{v} = 0.\)</span> For <span class="math inline">\(\textbf{v}\)</span> to be non-zero, the determinant must be zero,</p>
<p><span id="eq-eigen2"><span class="math display">\[
| \textbf{A} - \lambda \textbf{I}| = 0
\tag{2.2}\]</span></span></p>
<p>Back to the example, use <a href="#eq-eigen2" class="quarto-xref">Equation&nbsp;<span>2.2</span></a> to find possible eigenvalues.</p>
<p><span class="math display">\[
\left| \begin{bmatrix} -6 &amp; 3 \\ 4 &amp; 5 \end{bmatrix} - \lambda \begin{bmatrix} 1 &amp; 0 \\ 0 &amp; 1 \end{bmatrix} \right| = 0
\]</span></p>
<p>Subtract the matrices and calculate the determinant, <span class="math inline">\((-6 - \lambda)(5 - \lambda) - 3 \times 4 = 0,\)</span> then solve for <span class="math inline">\(\lambda = -7 \text{ or } 6.\)</span> Now that you have the possible eigenvalues, plug them back into Equation @ref(eq:eigen1). For <span class="math inline">\(\lambda = 6\)</span> you have</p>
<p><span class="math display">\[
\begin{bmatrix} -6 &amp; 3 \\ 4 &amp; 5 \end{bmatrix} \begin{bmatrix}x \\ y \end{bmatrix} = 6 \begin{bmatrix}x \\ y \end{bmatrix}
\]</span></p>
<p>Solving the system of equations reveals that <span class="math inline">\(y = 4x\)</span>. So <span class="math inline">\(\begin{bmatrix}1 \\ 4 \end{bmatrix}\)</span> is a solution. You can do the same exercise for <span class="math inline">\(\lambda = -7\)</span>.</p>
<p>Eigenvectors and eigenvalues are useful because matrices are used to make transformations in space. In transformations, the eigenvector is the axis of rotation, the direction that does not change, and the eigenvalue is the scale of the stretch (1 = no change, 2 = double length, -1 = point backwards, etc.).</p>


<!-- -->

<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-shlens2014tutorial" class="csl-entry" role="listitem">
Shlens, Jonathon. 2014. <span>“A Tutorial on Principal Component Analysis.”</span> <em>arXiv Preprint arXiv:1404.1100</em>. <a href="https://arxiv.org/abs/1404.1100">https://arxiv.org/abs/1404.1100</a>.
</div>
</div>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Material from <a href="https://online.stat.psu.edu/stat505/lesson/11">PSU</a>, <a href="https://statistics.laerd.com/premium/spss/pca/pca-in-spss.php">Laerd</a>, and <span class="citation" data-cites="shlens2014tutorial">Shlens (<a href="03-references.html#ref-shlens2014tutorial" role="doc-biblioref">2014</a>)</span>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>See <a href="https://www.statisticshowto.com/kaiser-meyer-olkin/">Statistics How-to</a>.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Took these notes from <a href="https://www.mathsisfun.com/algebra/eigenvalue.html">Math is Fun</a>.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./01-cluster-analysis.html" class="pagination-link" aria-label="Cluster Analysis">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Cluster Analysis</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./03-references.html" class="pagination-link" aria-label="References">
        <span class="nav-page-text">References</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb31" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># PCA {#sec-pca}</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>Machine learning datasets often have an enormous number of columns, many of which are correlated because they essentially measure the same latent construct. You could drop redundant columns, but sometimes the redundancy is not obvious, hidden in combinations of columns. Principle components analysis (PCA) reduces the number of columns to a few, interpretable linear combinations while retaining as much information as possible.^<span class="co">[</span><span class="ot">Material from [PSU](https://online.stat.psu.edu/stat505/lesson/11), [Laerd](https://statistics.laerd.com/premium/spss/pca/pca-in-spss.php), and @shlens2014tutorial.</span><span class="co">]</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="fu">## Intuition</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>@shlens2014tutorial introduces PCA with a toy example where the movement of an oscillating spring is monitored by cameras from three positions in a room. Each camera produces a two-dimensional dataset of x and y coordinates, six vectors of numbers altogether. The physical reality is there is only one dimension of movement. PCA should be able to reduce the six vectors into a single principle component.</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>I'll simplify the example somewhat to make the math easier. I'll locate the three cameras in the same spot, x = 0 and y = 0, and rotate them 15 degrees, 45 degrees, and 150 degrees respectively.</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a><span class="co"># 100 photos of the end of the spring taken over 10s of motion.</span></span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="at">length.out =</span> <span class="dv">100</span>)</span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a><span class="co"># simple harmonic motion from our perspective: 0-degree rotation.</span></span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>x_0 <span class="ot">&lt;-</span> <span class="fu">sin</span>(<span class="dv">2</span> <span class="sc">*</span> pi <span class="sc">*</span> <span class="fl">0.5</span> <span class="sc">*</span> t)</span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>y_0 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="fu">length</span>(t), <span class="dv">0</span>, .<span class="dv">03</span>)</span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>coords_0 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(x_0, y_0), <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a><span class="co"># 15-degree rotation matrix for camera 1</span></span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a>theta_A <span class="ot">=</span> pi <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">/</span> <span class="dv">12</span>)</span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>M_A <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="fu">cos</span>(theta_A), <span class="sc">-</span><span class="fu">sin</span>(theta_A), <span class="fu">sin</span>(theta_A), <span class="fu">cos</span>(theta_A)), <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>coords_A <span class="ot">&lt;-</span> coords_0 <span class="sc">%*%</span> M_A</span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a><span class="co"># 45-degree rotation matrix for camera 2</span></span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a>theta_B <span class="ot">=</span> pi <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">/</span> <span class="dv">4</span>)</span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a>M_B <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="fu">cos</span>(theta_B), <span class="sc">-</span><span class="fu">sin</span>(theta_B), <span class="fu">sin</span>(theta_B), <span class="fu">cos</span>(theta_B)), <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a>coords_B <span class="ot">&lt;-</span> coords_0 <span class="sc">%*%</span> M_B</span>
<span id="cb31-42"><a href="#cb31-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-43"><a href="#cb31-43" aria-hidden="true" tabindex="-1"></a><span class="co"># 150-degree rotation matrix for camera 3</span></span>
<span id="cb31-44"><a href="#cb31-44" aria-hidden="true" tabindex="-1"></a>theta_C <span class="ot">=</span> pi <span class="sc">*</span> (<span class="dv">5</span> <span class="sc">/</span> <span class="dv">6</span>)</span>
<span id="cb31-45"><a href="#cb31-45" aria-hidden="true" tabindex="-1"></a>M_C <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="fu">cos</span>(theta_C), <span class="sc">-</span><span class="fu">sin</span>(theta_C), <span class="fu">sin</span>(theta_C), <span class="fu">cos</span>(theta_C)), <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb31-46"><a href="#cb31-46" aria-hidden="true" tabindex="-1"></a>coords_C <span class="ot">&lt;-</span> coords_0 <span class="sc">%*%</span> M_C</span>
<span id="cb31-47"><a href="#cb31-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-48"><a href="#cb31-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Combined dataset</span></span>
<span id="cb31-49"><a href="#cb31-49" aria-hidden="true" tabindex="-1"></a>spring <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb31-50"><a href="#cb31-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">t =</span> t,</span>
<span id="cb31-51"><a href="#cb31-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">camera_A_x =</span> coords_A[, <span class="dv">1</span>],</span>
<span id="cb31-52"><a href="#cb31-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">camera_A_y =</span> coords_A[, <span class="dv">2</span>],</span>
<span id="cb31-53"><a href="#cb31-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">camera_B_x =</span> coords_B[, <span class="dv">1</span>],</span>
<span id="cb31-54"><a href="#cb31-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">camera_B_y =</span> coords_B[, <span class="dv">2</span>],</span>
<span id="cb31-55"><a href="#cb31-55" aria-hidden="true" tabindex="-1"></a>  <span class="at">camera_C_x =</span> coords_C[, <span class="dv">1</span>],</span>
<span id="cb31-56"><a href="#cb31-56" aria-hidden="true" tabindex="-1"></a>  <span class="at">camera_C_y =</span> coords_C[, <span class="dv">2</span>]</span>
<span id="cb31-57"><a href="#cb31-57" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-58"><a href="#cb31-58" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-59"><a href="#cb31-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-62"><a href="#cb31-62" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-63"><a href="#cb31-63" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(spring)</span>
<span id="cb31-64"><a href="#cb31-64" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-65"><a href="#cb31-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-66"><a href="#cb31-66" aria-hidden="true" tabindex="-1"></a>Here are the x-y coordinates recorded from the cameras' perspectives..</span>
<span id="cb31-67"><a href="#cb31-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-70"><a href="#cb31-70" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-71"><a href="#cb31-71" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb31-72"><a href="#cb31-72" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3.25</span></span>
<span id="cb31-73"><a href="#cb31-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-74"><a href="#cb31-74" aria-hidden="true" tabindex="-1"></a>spring_longer <span class="ot">&lt;-</span></span>
<span id="cb31-75"><a href="#cb31-75" aria-hidden="true" tabindex="-1"></a>  spring <span class="sc">|&gt;</span></span>
<span id="cb31-76"><a href="#cb31-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb31-77"><a href="#cb31-77" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">"camera_"</span>), </span>
<span id="cb31-78"><a href="#cb31-78" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"Camera"</span>, <span class="st">"Coord"</span>),</span>
<span id="cb31-79"><a href="#cb31-79" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_pattern =</span> <span class="st">"camera_(.)_(.)"</span></span>
<span id="cb31-80"><a href="#cb31-80" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb31-81"><a href="#cb31-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb31-82"><a href="#cb31-82" aria-hidden="true" tabindex="-1"></a>    <span class="at">Camera =</span> <span class="fu">case_when</span>(</span>
<span id="cb31-83"><a href="#cb31-83" aria-hidden="true" tabindex="-1"></a>      Camera <span class="sc">==</span> <span class="st">"A"</span> <span class="sc">~</span> <span class="st">"Camera A (15-degrees)"</span>,</span>
<span id="cb31-84"><a href="#cb31-84" aria-hidden="true" tabindex="-1"></a>      Camera <span class="sc">==</span> <span class="st">"B"</span> <span class="sc">~</span> <span class="st">"Camera B (45-degrees)"</span>,</span>
<span id="cb31-85"><a href="#cb31-85" aria-hidden="true" tabindex="-1"></a>      Camera <span class="sc">==</span> <span class="st">"C"</span> <span class="sc">~</span> <span class="st">"Camera C (150-degrees)"</span></span>
<span id="cb31-86"><a href="#cb31-86" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb31-87"><a href="#cb31-87" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb31-88"><a href="#cb31-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">.by =</span> <span class="fu">c</span>(Camera, Coord), <span class="at">Obs =</span> <span class="fu">row_number</span>()) <span class="sc">|&gt;</span></span>
<span id="cb31-89"><a href="#cb31-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Coord, <span class="at">values_from =</span> value)</span>
<span id="cb31-90"><a href="#cb31-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-91"><a href="#cb31-91" aria-hidden="true" tabindex="-1"></a>spring_longer <span class="sc">|&gt;</span></span>
<span id="cb31-92"><a href="#cb31-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb31-93"><a href="#cb31-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">1</span>, <span class="at">color =</span> my_palette<span class="sc">$</span>blue_red[<span class="dv">1</span>]) <span class="sc">+</span></span>
<span id="cb31-94"><a href="#cb31-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb31-95"><a href="#cb31-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Camera), <span class="at">nrow =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb31-96"><a href="#cb31-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Simple Harmonic Motion from Three Perspectives"</span>)</span>
<span id="cb31-97"><a href="#cb31-97" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-98"><a href="#cb31-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-99"><a href="#cb31-99" aria-hidden="true" tabindex="-1"></a>We can perform a PCA in a single step. The <span class="in">`center`</span> and <span class="in">`scale.`</span> arguments are because PCA should operate on standardized data.</span>
<span id="cb31-100"><a href="#cb31-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-103"><a href="#cb31-103" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-104"><a href="#cb31-104" aria-hidden="true" tabindex="-1"></a>spring_pca <span class="ot">&lt;-</span> </span>
<span id="cb31-105"><a href="#cb31-105" aria-hidden="true" tabindex="-1"></a>  spring <span class="sc">|&gt;</span></span>
<span id="cb31-106"><a href="#cb31-106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>t) <span class="sc">|&gt;</span></span>
<span id="cb31-107"><a href="#cb31-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prcomp</span>(<span class="at">center =</span> <span class="cn">TRUE</span>, <span class="at">scale. =</span> <span class="cn">TRUE</span>)</span>
<span id="cb31-108"><a href="#cb31-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-109"><a href="#cb31-109" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(spring_pca)</span>
<span id="cb31-110"><a href="#cb31-110" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-111"><a href="#cb31-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-112"><a href="#cb31-112" aria-hidden="true" tabindex="-1"></a>PCA creates as many components as there are variables. The summary table shows the proportion of the variance in the data set explained by each component. The standard deviation of the first component is <span class="in">`r comma(spring_pca$sdev[1], .001)`</span> compared to nearly zero for the other five components. It explains essentially all of the dataset variance. The upshot is that you can replace the six columns in the dataset with just this one.</span>
<span id="cb31-113"><a href="#cb31-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-114"><a href="#cb31-114" aria-hidden="true" tabindex="-1"></a><span class="fu">## Matrix Algebra</span></span>
<span id="cb31-115"><a href="#cb31-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-116"><a href="#cb31-116" aria-hidden="true" tabindex="-1"></a>PCA works by identifying the most meaningful basis to re-express the dataset. In our toy example, the unit basis along the *x*-axis is the most meaningful. It does this with matrix algebra.</span>
<span id="cb31-117"><a href="#cb31-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-118"><a href="#cb31-118" aria-hidden="true" tabindex="-1"></a>Each row of the dataset may be expressed as a column vector, $\vec{X}$ that is the *x* and *y* values recorded by the three cameras.</span>
<span id="cb31-119"><a href="#cb31-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-120"><a href="#cb31-120" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-121"><a href="#cb31-121" aria-hidden="true" tabindex="-1"></a>\vec{X} = \begin{bmatrix} A_x <span class="sc">\\</span> A_y <span class="sc">\\</span> B_x <span class="sc">\\</span> B_y <span class="sc">\\</span> C_x <span class="sc">\\</span> C_y \end{bmatrix}</span>
<span id="cb31-122"><a href="#cb31-122" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-123"><a href="#cb31-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-124"><a href="#cb31-124" aria-hidden="true" tabindex="-1"></a>$\vec{X}$ lies in an *m=6*-dimensional vector space spanned by an orthonormal basis. The orthonormal bases for each camera are $<span class="sc">\{</span>(1,0), (0,1)<span class="sc">\}</span>$ _from their own perspective_, so a data point from camera $A$ might equivalently be expressed as </span>
<span id="cb31-125"><a href="#cb31-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-126"><a href="#cb31-126" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-127"><a href="#cb31-127" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix} 1 &amp; 0 <span class="sc">\\</span> 0 &amp; 1 \end{bmatrix} \begin{bmatrix} A_x <span class="sc">\\</span> A_y \end{bmatrix}</span>
<span id="cb31-128"><a href="#cb31-128" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-129"><a href="#cb31-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-130"><a href="#cb31-130" aria-hidden="true" tabindex="-1"></a>::: {.callout-tip collapse="true"}</span>
<span id="cb31-131"><a href="#cb31-131" aria-hidden="true" tabindex="-1"></a><span class="fu">## Note on Orthonormal Bases</span></span>
<span id="cb31-132"><a href="#cb31-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-133"><a href="#cb31-133" aria-hidden="true" tabindex="-1"></a>An orthonormal basis is any set of vectors whose pairwise inner products are zero. The orthonormal basis for camera $A$ might be $<span class="sc">\{</span>(\sqrt{2}/2,\sqrt{2}/2), (-\sqrt{2}/2,\sqrt{2}/2)<span class="sc">\}</span>$ from a neutral perspective. From the neutral perspective, you would have to rotate the axes 45 degrees.</span>
<span id="cb31-134"><a href="#cb31-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-137"><a href="#cb31-137" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-138"><a href="#cb31-138" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb31-139"><a href="#cb31-139" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 5</span></span>
<span id="cb31-140"><a href="#cb31-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-141"><a href="#cb31-141" aria-hidden="true" tabindex="-1"></a><span class="co"># M is a 45-degree line</span></span>
<span id="cb31-142"><a href="#cb31-142" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">100</span>, <span class="dv">0</span><span class="sc">:</span><span class="dv">100</span> <span class="sc">*</span> <span class="fu">tan</span>(<span class="dv">45</span><span class="sc">*</span>(pi<span class="sc">/</span><span class="dv">180</span>))), <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb31-143"><a href="#cb31-143" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(M) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"X"</span>, <span class="st">"Y"</span>)</span>
<span id="cb31-144"><a href="#cb31-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-145"><a href="#cb31-145" aria-hidden="true" tabindex="-1"></a><span class="co"># M is unchanged after multiplication by identity matrix.</span></span>
<span id="cb31-146"><a href="#cb31-146" aria-hidden="true" tabindex="-1"></a>I <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>), <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb31-147"><a href="#cb31-147" aria-hidden="true" tabindex="-1"></a>M1 <span class="ot">&lt;-</span> M <span class="sc">%*%</span> I</span>
<span id="cb31-148"><a href="#cb31-148" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(M1) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(M)</span>
<span id="cb31-149"><a href="#cb31-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-150"><a href="#cb31-150" aria-hidden="true" tabindex="-1"></a><span class="co"># Rotate M 45-degrees.</span></span>
<span id="cb31-151"><a href="#cb31-151" aria-hidden="true" tabindex="-1"></a>B <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="fu">sqrt</span>(<span class="dv">2</span>)<span class="sc">/</span><span class="dv">2</span>, <span class="fu">sqrt</span>(<span class="dv">2</span>)<span class="sc">/</span><span class="dv">2</span>, <span class="sc">-</span><span class="fu">sqrt</span>(<span class="dv">2</span>)<span class="sc">/</span><span class="dv">2</span>, <span class="fu">sqrt</span>(<span class="dv">2</span>)<span class="sc">/</span><span class="dv">2</span>), <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb31-152"><a href="#cb31-152" aria-hidden="true" tabindex="-1"></a>M2 <span class="ot">&lt;-</span> M <span class="sc">%*%</span> B</span>
<span id="cb31-153"><a href="#cb31-153" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(M2) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(M)</span>
<span id="cb31-154"><a href="#cb31-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-155"><a href="#cb31-155" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(</span>
<span id="cb31-156"><a href="#cb31-156" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">45 degree line</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as_tibble</span>(M1),</span>
<span id="cb31-157"><a href="#cb31-157" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Rotated 45 degrees</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as_tibble</span>(M2),</span>
<span id="cb31-158"><a href="#cb31-158" aria-hidden="true" tabindex="-1"></a>  <span class="at">.id =</span> <span class="st">"series"</span></span>
<span id="cb31-159"><a href="#cb31-159" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb31-160"><a href="#cb31-160" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> X, <span class="at">y =</span> Y, <span class="at">color =</span> series)) <span class="sc">+</span></span>
<span id="cb31-161"><a href="#cb31-161" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb31-162"><a href="#cb31-162" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">color =</span> <span class="cn">NULL</span>)</span>
<span id="cb31-163"><a href="#cb31-163" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-164"><a href="#cb31-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-165"><a href="#cb31-165" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb31-166"><a href="#cb31-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-167"><a href="#cb31-167" aria-hidden="true" tabindex="-1"></a>Extending this to all three cameras, you might start by naively assuming they collect data from the _same perspective_, taking each measurement at face value. The set of orthonormal basis vectors, $\textbf{B}$, would look like this identity matrix</span>
<span id="cb31-168"><a href="#cb31-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-169"><a href="#cb31-169" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-170"><a href="#cb31-170" aria-hidden="true" tabindex="-1"></a>\textbf{B} = \begin{bmatrix} b_1 <span class="sc">\\</span> b_2 <span class="sc">\\</span> \vdots <span class="sc">\\</span> b_m \end{bmatrix} = \begin{bmatrix} 1 &amp; 0 &amp; \cdots &amp; 0 <span class="sc">\\</span> 0 &amp; 1 &amp; \cdots &amp; 0 <span class="sc">\\</span> \vdots &amp; \vdots &amp; \ddots &amp; \vdots <span class="sc">\\</span> 0 &amp; 0 &amp; \cdots &amp; 1 \end{bmatrix}</span>
<span id="cb31-171"><a href="#cb31-171" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-172"><a href="#cb31-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-173"><a href="#cb31-173" aria-hidden="true" tabindex="-1"></a>where $b_1$ and $b_2$ are the bases used by camera $A$, etc. Now the data set $\textbf{X}$ can be expressed as the matrix multiplication, $\textbf{BX}$. This added complexity allows you to ask whether another basis, $\textbf{P}$, _that is a linear combination of the original basis_, better expresses the data set, $\textbf{PX} = \textbf{Y}$. The _linear_ restriction is a key simplifying assumption of PCA. $\textbf{P}$ transforms $\textbf{X}$ into $\textbf{Y}$, but you can also think of it as rotating and stretching $\textbf{X}$ into $\textbf{Y}.$</span>
<span id="cb31-174"><a href="#cb31-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-175"><a href="#cb31-175" aria-hidden="true" tabindex="-1"></a>So, what transformation is best? The ideal is to maximize variance (signal-to-noise ratio) and minimize covariance (redundancy) in the data. The signal-to-noise ratio is $SNR = \sigma^2_{signal} / \sigma^2_{noise}$. In each camera's 2D perspective, the signal is the amplitude of the movement of the spring along the x-axis and the noise is the movement along the y-axis. SNR is maximized by rotating the camera axes (gold below).</span>
<span id="cb31-176"><a href="#cb31-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-179"><a href="#cb31-179" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-180"><a href="#cb31-180" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb31-181"><a href="#cb31-181" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3.35</span></span>
<span id="cb31-182"><a href="#cb31-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-183"><a href="#cb31-183" aria-hidden="true" tabindex="-1"></a>signal_0 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>), <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb31-184"><a href="#cb31-184" aria-hidden="true" tabindex="-1"></a>noise_0 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="fu">max</span>(y_0)), <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb31-185"><a href="#cb31-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-186"><a href="#cb31-186" aria-hidden="true" tabindex="-1"></a>signal_A <span class="ot">&lt;-</span> signal_0 <span class="sc">%*%</span> M_A</span>
<span id="cb31-187"><a href="#cb31-187" aria-hidden="true" tabindex="-1"></a>signal_B <span class="ot">&lt;-</span> signal_0 <span class="sc">%*%</span> M_B</span>
<span id="cb31-188"><a href="#cb31-188" aria-hidden="true" tabindex="-1"></a>signal_C <span class="ot">&lt;-</span> signal_0 <span class="sc">%*%</span> M_C</span>
<span id="cb31-189"><a href="#cb31-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-190"><a href="#cb31-190" aria-hidden="true" tabindex="-1"></a>noise_A <span class="ot">&lt;-</span> noise_0 <span class="sc">%*%</span> M_A</span>
<span id="cb31-191"><a href="#cb31-191" aria-hidden="true" tabindex="-1"></a>noise_B <span class="ot">&lt;-</span> noise_0 <span class="sc">%*%</span> M_B</span>
<span id="cb31-192"><a href="#cb31-192" aria-hidden="true" tabindex="-1"></a>noise_C <span class="ot">&lt;-</span> noise_0 <span class="sc">%*%</span> M_C</span>
<span id="cb31-193"><a href="#cb31-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-194"><a href="#cb31-194" aria-hidden="true" tabindex="-1"></a>signal <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb31-195"><a href="#cb31-195" aria-hidden="true" tabindex="-1"></a>  <span class="at">Camera =</span> <span class="fu">unique</span>(spring_longer<span class="sc">$</span>Camera),</span>
<span id="cb31-196"><a href="#cb31-196" aria-hidden="true" tabindex="-1"></a>  <span class="at">x_0 =</span> <span class="fu">c</span>(signal_A[<span class="dv">1</span>, <span class="dv">1</span>], signal_B[<span class="dv">1</span>, <span class="dv">1</span>], signal_C[<span class="dv">1</span>, <span class="dv">1</span>]),</span>
<span id="cb31-197"><a href="#cb31-197" aria-hidden="true" tabindex="-1"></a>  <span class="at">x_1 =</span> <span class="fu">c</span>(signal_A[<span class="dv">2</span>, <span class="dv">1</span>], signal_B[<span class="dv">2</span>, <span class="dv">1</span>], signal_C[<span class="dv">2</span>, <span class="dv">1</span>]),</span>
<span id="cb31-198"><a href="#cb31-198" aria-hidden="true" tabindex="-1"></a>  <span class="at">y_0 =</span> <span class="fu">c</span>(signal_A[<span class="dv">1</span>, <span class="dv">2</span>], signal_B[<span class="dv">1</span>, <span class="dv">2</span>], signal_C[<span class="dv">1</span>, <span class="dv">2</span>]),</span>
<span id="cb31-199"><a href="#cb31-199" aria-hidden="true" tabindex="-1"></a>  <span class="at">y_1 =</span> <span class="fu">c</span>(signal_A[<span class="dv">2</span>, <span class="dv">2</span>], signal_B[<span class="dv">2</span>, <span class="dv">2</span>], signal_C[<span class="dv">2</span>, <span class="dv">2</span>])</span>
<span id="cb31-200"><a href="#cb31-200" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-201"><a href="#cb31-201" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-202"><a href="#cb31-202" aria-hidden="true" tabindex="-1"></a>noise <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb31-203"><a href="#cb31-203" aria-hidden="true" tabindex="-1"></a>  <span class="at">Camera =</span> <span class="fu">unique</span>(spring_longer<span class="sc">$</span>Camera),</span>
<span id="cb31-204"><a href="#cb31-204" aria-hidden="true" tabindex="-1"></a>  <span class="at">x_0 =</span> <span class="fu">c</span>(noise_A[<span class="dv">1</span>, <span class="dv">1</span>], noise_B[<span class="dv">1</span>, <span class="dv">1</span>], noise_C[<span class="dv">1</span>, <span class="dv">1</span>]),</span>
<span id="cb31-205"><a href="#cb31-205" aria-hidden="true" tabindex="-1"></a>  <span class="at">x_1 =</span> <span class="fu">c</span>(noise_A[<span class="dv">2</span>, <span class="dv">1</span>], noise_B[<span class="dv">2</span>, <span class="dv">1</span>], noise_C[<span class="dv">2</span>, <span class="dv">1</span>]),</span>
<span id="cb31-206"><a href="#cb31-206" aria-hidden="true" tabindex="-1"></a>  <span class="at">y_0 =</span> <span class="fu">c</span>(noise_A[<span class="dv">1</span>, <span class="dv">2</span>], noise_B[<span class="dv">1</span>, <span class="dv">2</span>], noise_C[<span class="dv">1</span>, <span class="dv">2</span>]),</span>
<span id="cb31-207"><a href="#cb31-207" aria-hidden="true" tabindex="-1"></a>  <span class="at">y_1 =</span> <span class="fu">c</span>(noise_A[<span class="dv">2</span>, <span class="dv">2</span>], noise_B[<span class="dv">2</span>, <span class="dv">2</span>], noise_C[<span class="dv">2</span>, <span class="dv">2</span>])</span>
<span id="cb31-208"><a href="#cb31-208" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-209"><a href="#cb31-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-210"><a href="#cb31-210" aria-hidden="true" tabindex="-1"></a>spring_longer <span class="sc">|&gt;</span></span>
<span id="cb31-211"><a href="#cb31-211" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb31-212"><a href="#cb31-212" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">1</span>, <span class="at">color =</span> my_palette<span class="sc">$</span>blue_red[<span class="dv">1</span>]) <span class="sc">+</span></span>
<span id="cb31-213"><a href="#cb31-213" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb31-214"><a href="#cb31-214" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">data =</span> signal, <span class="fu">aes</span>(<span class="at">x =</span> x_0, <span class="at">xend =</span> x_1, <span class="at">y =</span> y_0, <span class="at">yend =</span> y_1),</span>
<span id="cb31-215"><a href="#cb31-215" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">"goldenrod"</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb31-216"><a href="#cb31-216" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">data =</span> noise, <span class="fu">aes</span>(<span class="at">x =</span> x_0, <span class="at">xend =</span> x_1, <span class="at">y =</span> y_0, <span class="at">yend =</span> y_1),</span>
<span id="cb31-217"><a href="#cb31-217" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">"goldenrod"</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb31-218"><a href="#cb31-218" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Camera), <span class="at">nrow =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb31-219"><a href="#cb31-219" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Simple Harmonic Motion from Three Perspectives"</span>,</span>
<span id="cb31-220"><a href="#cb31-220" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"With transformations minimizing SNR."</span>)</span>
<span id="cb31-221"><a href="#cb31-221" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-222"><a href="#cb31-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-223"><a href="#cb31-223" aria-hidden="true" tabindex="-1"></a>The other criteria is redundancy. The three cameras record the same activity, so they are highly correlated. </span>
<span id="cb31-224"><a href="#cb31-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-227"><a href="#cb31-227" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-228"><a href="#cb31-228" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb31-229"><a href="#cb31-229" aria-hidden="true" tabindex="-1"></a>spring <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">ends_with</span>(<span class="st">"x"</span>)) <span class="sc">|&gt;</span> GGally<span class="sc">::</span><span class="fu">ggpairs</span>()</span>
<span id="cb31-230"><a href="#cb31-230" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-231"><a href="#cb31-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-232"><a href="#cb31-232" aria-hidden="true" tabindex="-1"></a>If $\textbf{X}$ is an $m \times n$ matrix of centered values (subtracting the mean), PCA finds an orthonormal matrix $\textbf{P}$ in $\textbf{Y} = \textbf{PX}$ such that the covariance matrix $\textbf{C}_\textbf{Y} = \frac{1}{n}\textbf{YY}^T$ is diagonal. The rows of $\textbf{P}$ are the principal components of $\textbf{X}$.  The off-diagonal elements of a covariance matrix are the covariances and they measure redundancy. The diagonal elements are the variances and they measure signal.</span>
<span id="cb31-233"><a href="#cb31-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-234"><a href="#cb31-234" aria-hidden="true" tabindex="-1"></a>With matrix algebra, you can express $\textbf{C}_\textbf{Y}$ in terms of the covariance matrix of $\textbf{X}$, $\textbf{C}_\textbf{X}$.</span>
<span id="cb31-235"><a href="#cb31-235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-236"><a href="#cb31-236" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-237"><a href="#cb31-237" aria-hidden="true" tabindex="-1"></a>\begin{align}</span>
<span id="cb31-238"><a href="#cb31-238" aria-hidden="true" tabindex="-1"></a>\textbf{C}_\textbf{Y} &amp;= \frac{1}{n}\textbf{YY}^T <span class="sc">\\</span></span>
<span id="cb31-239"><a href="#cb31-239" aria-hidden="true" tabindex="-1"></a>&amp;= \frac{1}{n}(\textbf{PX})(\textbf{PX})^T <span class="sc">\\</span></span>
<span id="cb31-240"><a href="#cb31-240" aria-hidden="true" tabindex="-1"></a>&amp;= \frac{1}{n}\textbf{PXX}^T\textbf{P}^T <span class="sc">\\</span></span>
<span id="cb31-241"><a href="#cb31-241" aria-hidden="true" tabindex="-1"></a>&amp;= P\left(\frac{1}{n}\textbf{XX}^T\right)\textbf{P}^T <span class="sc">\\</span></span>
<span id="cb31-242"><a href="#cb31-242" aria-hidden="true" tabindex="-1"></a>&amp;= \textbf{PC}_\textbf{X}\textbf{P}^T</span>
<span id="cb31-243"><a href="#cb31-243" aria-hidden="true" tabindex="-1"></a>\end{align}</span>
<span id="cb31-244"><a href="#cb31-244" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-245"><a href="#cb31-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-246"><a href="#cb31-246" aria-hidden="true" tabindex="-1"></a>Any symmetric matrix can be diagonalized by an orthogonal matrix of its eigenvectors, $\textbf{C}_\textbf{X} = \textbf{E}^T\textbf{DE}$. So select $\textbf{P}$ to be such a matrix.</span>
<span id="cb31-247"><a href="#cb31-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-248"><a href="#cb31-248" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-249"><a href="#cb31-249" aria-hidden="true" tabindex="-1"></a>\begin{align}</span>
<span id="cb31-250"><a href="#cb31-250" aria-hidden="true" tabindex="-1"></a>\textbf{C}_\textbf{Y} &amp;= \textbf{PC}_\textbf{X}\textbf{P}^T <span class="sc">\\</span></span>
<span id="cb31-251"><a href="#cb31-251" aria-hidden="true" tabindex="-1"></a>&amp;= \textbf{P}(\textbf{E}^T\textbf{DE})\textbf{P}^T <span class="sc">\\</span></span>
<span id="cb31-252"><a href="#cb31-252" aria-hidden="true" tabindex="-1"></a>&amp;= \textbf{P}(\textbf{P}^T\textbf{DP})\textbf{P}^T <span class="sc">\\</span></span>
<span id="cb31-253"><a href="#cb31-253" aria-hidden="true" tabindex="-1"></a>&amp;= (\textbf{PP}^T)\textbf{D}(\textbf{PP}^T) <span class="sc">\\</span></span>
<span id="cb31-254"><a href="#cb31-254" aria-hidden="true" tabindex="-1"></a>&amp;= (\textbf{PP}^{-1})\textbf{D}(\textbf{PP}^{-1}) <span class="sc">\\</span></span>
<span id="cb31-255"><a href="#cb31-255" aria-hidden="true" tabindex="-1"></a>&amp;= \textbf{D}</span>
<span id="cb31-256"><a href="#cb31-256" aria-hidden="true" tabindex="-1"></a>\end{align}</span>
<span id="cb31-257"><a href="#cb31-257" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-258"><a href="#cb31-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-259"><a href="#cb31-259" aria-hidden="true" tabindex="-1"></a><span class="fu">## Case Study</span></span>
<span id="cb31-260"><a href="#cb31-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-261"><a href="#cb31-261" aria-hidden="true" tabindex="-1"></a>Let's work with a case study presented by <span class="co">[</span><span class="ot">Laerd</span><span class="co">](https://statistics.laerd.com/premium/spss/pca/pca-in-spss.php)</span>. 315 job candidates complete a questionnaire consisting of 25 questions.</span>
<span id="cb31-262"><a href="#cb31-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-265"><a href="#cb31-265" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-266"><a href="#cb31-266" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb31-267"><a href="#cb31-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-268"><a href="#cb31-268" aria-hidden="true" tabindex="-1"></a>likert_scale <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb31-269"><a href="#cb31-269" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Strongly Agree"</span>, <span class="st">"Agree"</span>, <span class="st">"Agree Somewhat"</span>, <span class="st">"Undecided"</span>, <span class="st">"Disagree Somewhat"</span>,</span>
<span id="cb31-270"><a href="#cb31-270" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Disagree"</span>, <span class="st">"Strongly Disagree"</span></span>
<span id="cb31-271"><a href="#cb31-271" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-272"><a href="#cb31-272" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-273"><a href="#cb31-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-276"><a href="#cb31-276" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-277"><a href="#cb31-277" aria-hidden="true" tabindex="-1"></a>pca_dat <span class="ot">&lt;-</span> </span>
<span id="cb31-278"><a href="#cb31-278" aria-hidden="true" tabindex="-1"></a>  foreign<span class="sc">::</span><span class="fu">read.spss</span>(<span class="st">"./input/pca.sav"</span>, <span class="at">to.data.frame =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-279"><a href="#cb31-279" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb31-280"><a href="#cb31-280" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">where</span>(is.factor), <span class="sc">~</span><span class="fu">factor</span>(., <span class="at">levels =</span> likert_scale, <span class="at">ordered =</span> <span class="cn">TRUE</span>))</span>
<span id="cb31-281"><a href="#cb31-281" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-282"><a href="#cb31-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-283"><a href="#cb31-283" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(pca_dat)</span>
<span id="cb31-284"><a href="#cb31-284" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-285"><a href="#cb31-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-288"><a href="#cb31-288" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-289"><a href="#cb31-289" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb31-290"><a href="#cb31-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-291"><a href="#cb31-291" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(pca_dat)</span>
<span id="cb31-292"><a href="#cb31-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-293"><a href="#cb31-293" aria-hidden="true" tabindex="-1"></a>q_colnames <span class="ot">&lt;-</span> pca_dat <span class="sc">%&gt;%</span> <span class="fu">select</span>(Qu1<span class="sc">:</span>Qu25) <span class="sc">%&gt;%</span> <span class="fu">colnames</span>()</span>
<span id="cb31-294"><a href="#cb31-294" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-295"><a href="#cb31-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-296"><a href="#cb31-296" aria-hidden="true" tabindex="-1"></a>The questions focused on four attributes: motivation, dependability, enthusiasm, and commitment.</span>
<span id="cb31-297"><a href="#cb31-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-300"><a href="#cb31-300" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-301"><a href="#cb31-301" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb31-302"><a href="#cb31-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-303"><a href="#cb31-303" aria-hidden="true" tabindex="-1"></a>gt_items <span class="ot">&lt;-</span> <span class="cf">function</span>(items) {</span>
<span id="cb31-304"><a href="#cb31-304" aria-hidden="true" tabindex="-1"></a>  pca_dat <span class="sc">|&gt;</span></span>
<span id="cb31-305"><a href="#cb31-305" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">all_of</span>(items)) <span class="sc">|&gt;</span></span>
<span id="cb31-306"><a href="#cb31-306" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="fu">everything</span>()) <span class="sc">|&gt;</span></span>
<span id="cb31-307"><a href="#cb31-307" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">name =</span> <span class="fu">fct_drop</span>(<span class="fu">factor</span>(name, <span class="at">levels =</span> q_colnames))) <span class="sc">|&gt;</span></span>
<span id="cb31-308"><a href="#cb31-308" aria-hidden="true" tabindex="-1"></a>    gtsummary<span class="sc">::</span><span class="fu">tbl_summary</span>(<span class="at">by =</span> <span class="st">"value"</span>, <span class="at">percent =</span> <span class="st">"row"</span>, <span class="at">label =</span> <span class="fu">list</span>(name <span class="sc">~</span> <span class="st">""</span>)) <span class="sc">|&gt;</span></span>
<span id="cb31-309"><a href="#cb31-309" aria-hidden="true" tabindex="-1"></a>    gtsummary<span class="sc">::</span><span class="fu">as_gt</span>()</span>
<span id="cb31-310"><a href="#cb31-310" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb31-311"><a href="#cb31-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-312"><a href="#cb31-312" aria-hidden="true" tabindex="-1"></a>q_motivation <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Qu3"</span>, <span class="st">"Qu4"</span>, <span class="st">"Qu5"</span>, <span class="st">"Qu6"</span>, <span class="st">"Qu7"</span>, <span class="st">"Qu8"</span>, <span class="st">"Qu12"</span>, <span class="st">"Qu13"</span>)</span>
<span id="cb31-313"><a href="#cb31-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-314"><a href="#cb31-314" aria-hidden="true" tabindex="-1"></a>q_dependability <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Qu2"</span>, <span class="st">"Qu14"</span>, <span class="st">"Qu15"</span>, <span class="st">"Qu16"</span>, <span class="st">"Qu17"</span>, <span class="st">"Qu18"</span>, <span class="st">"Qu19"</span>)</span>
<span id="cb31-315"><a href="#cb31-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-316"><a href="#cb31-316" aria-hidden="true" tabindex="-1"></a>q_enthusiasm <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Qu20"</span>, <span class="st">"Qu21"</span>, <span class="st">"Qu22"</span>, <span class="st">"Qu23"</span>, <span class="st">"Qu24"</span>, <span class="st">"Qu25"</span>)</span>
<span id="cb31-317"><a href="#cb31-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-318"><a href="#cb31-318" aria-hidden="true" tabindex="-1"></a>q_commitment <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Qu1"</span>, <span class="st">"Qu9"</span>, <span class="st">"Qu10"</span>, <span class="st">"Qu11"</span>)</span>
<span id="cb31-319"><a href="#cb31-319" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-320"><a href="#cb31-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-321"><a href="#cb31-321" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb31-322"><a href="#cb31-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-323"><a href="#cb31-323" aria-hidden="true" tabindex="-1"></a><span class="fu">### Motivaton</span></span>
<span id="cb31-324"><a href="#cb31-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-327"><a href="#cb31-327" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-328"><a href="#cb31-328" aria-hidden="true" tabindex="-1"></a><span class="fu">gt_items</span>(q_motivation)</span>
<span id="cb31-329"><a href="#cb31-329" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-330"><a href="#cb31-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-331"><a href="#cb31-331" aria-hidden="true" tabindex="-1"></a><span class="fu">### Dependability</span></span>
<span id="cb31-332"><a href="#cb31-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-335"><a href="#cb31-335" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-336"><a href="#cb31-336" aria-hidden="true" tabindex="-1"></a><span class="fu">gt_items</span>(q_dependability)</span>
<span id="cb31-337"><a href="#cb31-337" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-338"><a href="#cb31-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-339"><a href="#cb31-339" aria-hidden="true" tabindex="-1"></a><span class="fu">### Enthusiasm</span></span>
<span id="cb31-340"><a href="#cb31-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-343"><a href="#cb31-343" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-344"><a href="#cb31-344" aria-hidden="true" tabindex="-1"></a><span class="fu">gt_items</span>(q_enthusiasm)</span>
<span id="cb31-345"><a href="#cb31-345" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-346"><a href="#cb31-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-347"><a href="#cb31-347" aria-hidden="true" tabindex="-1"></a><span class="fu">### Commitment</span></span>
<span id="cb31-348"><a href="#cb31-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-351"><a href="#cb31-351" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-352"><a href="#cb31-352" aria-hidden="true" tabindex="-1"></a><span class="fu">gt_items</span>(q_commitment)</span>
<span id="cb31-353"><a href="#cb31-353" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-354"><a href="#cb31-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-355"><a href="#cb31-355" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb31-356"><a href="#cb31-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-357"><a href="#cb31-357" aria-hidden="true" tabindex="-1"></a>Let's drop the unrelated <span class="in">`FAC*`</span> cols. PCA only works with numerical values. Our questionnaire uses a 7-level scale, so we're probably okay to treat that as numeric.</span>
<span id="cb31-358"><a href="#cb31-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-361"><a href="#cb31-361" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-362"><a href="#cb31-362" aria-hidden="true" tabindex="-1"></a>pca_numeric <span class="ot">&lt;-</span></span>
<span id="cb31-363"><a href="#cb31-363" aria-hidden="true" tabindex="-1"></a>  pca_dat <span class="sc">|&gt;</span></span>
<span id="cb31-364"><a href="#cb31-364" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"Qu"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb31-365"><a href="#cb31-365" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), as.numeric))</span>
<span id="cb31-366"><a href="#cb31-366" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-367"><a href="#cb31-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-368"><a href="#cb31-368" aria-hidden="true" tabindex="-1"></a><span class="fu">## Assumptions</span></span>
<span id="cb31-369"><a href="#cb31-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-370"><a href="#cb31-370" aria-hidden="true" tabindex="-1"></a>Missing values can bias PCA results. If you have missing values, you should either impute, remove the observations, or drop the columns. Fortunately there are no missing values in this dataset.</span>
<span id="cb31-371"><a href="#cb31-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-374"><a href="#cb31-374" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-375"><a href="#cb31-375" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(pca_numeric))</span>
<span id="cb31-376"><a href="#cb31-376" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-377"><a href="#cb31-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-378"><a href="#cb31-378" aria-hidden="true" tabindex="-1"></a>There are a few other assumptions to be aware of:</span>
<span id="cb31-379"><a href="#cb31-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-380"><a href="#cb31-380" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>PCA is based on correlation coefficients, so all variables should be linearly related (*r* &gt; .3) to at least one other variable.</span>
<span id="cb31-381"><a href="#cb31-381" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The next assumption is that the sample sizes should be large. As a rule of thumb, there should be at least 5 cases per variable. </span>
<span id="cb31-382"><a href="#cb31-382" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>There should be no outliers. Component scores greater than 3 standard deviations away from the mean can have a disproportionate influence on the results.</span>
<span id="cb31-383"><a href="#cb31-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-384"><a href="#cb31-384" aria-hidden="true" tabindex="-1"></a>I found two procedures used to test assumptions (though it does not test all of them). They both operate on the correlation matrix.</span>
<span id="cb31-385"><a href="#cb31-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-388"><a href="#cb31-388" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-389"><a href="#cb31-389" aria-hidden="true" tabindex="-1"></a>corr_mtrx <span class="ot">&lt;-</span> <span class="fu">cor</span>(pca_numeric)</span>
<span id="cb31-390"><a href="#cb31-390" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-391"><a href="#cb31-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-392"><a href="#cb31-392" aria-hidden="true" tabindex="-1"></a>The first assumption could be tested by querying the matrix for the max correlations. The worst is q20.</span>
<span id="cb31-393"><a href="#cb31-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-396"><a href="#cb31-396" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-397"><a href="#cb31-397" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb31-398"><a href="#cb31-398" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-399"><a href="#cb31-399" aria-hidden="true" tabindex="-1"></a><span class="co"># ggcorrplot::ggcorrplot(corr_mtrx)</span></span>
<span id="cb31-400"><a href="#cb31-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-401"><a href="#cb31-401" aria-hidden="true" tabindex="-1"></a>max_cor <span class="ot">&lt;-</span></span>
<span id="cb31-402"><a href="#cb31-402" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>(corr_mtrx) <span class="sc">|&gt;</span></span>
<span id="cb31-403"><a href="#cb31-403" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">var1 =</span> <span class="fu">factor</span>(q_colnames, <span class="at">levels =</span> q_colnames)) <span class="sc">|&gt;</span></span>
<span id="cb31-404"><a href="#cb31-404" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(Qu1<span class="sc">:</span>Qu25), <span class="at">names_to =</span> <span class="st">"var2"</span>, <span class="at">values_to =</span> <span class="st">"rho"</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-405"><a href="#cb31-405" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(var1 <span class="sc">!=</span> var2) <span class="sc">|&gt;</span></span>
<span id="cb31-406"><a href="#cb31-406" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(<span class="at">by =</span> var1, <span class="at">order_by =</span> rho, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-407"><a href="#cb31-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-408"><a href="#cb31-408" aria-hidden="true" tabindex="-1"></a>max_cor_v <span class="ot">&lt;-</span> <span class="fu">round</span>(max_cor<span class="sc">$</span>rho, <span class="dv">2</span>)</span>
<span id="cb31-409"><a href="#cb31-409" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(max_cor_v) <span class="ot">&lt;-</span> max_cor<span class="sc">$</span>var1</span>
<span id="cb31-410"><a href="#cb31-410" aria-hidden="true" tabindex="-1"></a>max_cor_v</span>
<span id="cb31-411"><a href="#cb31-411" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-412"><a href="#cb31-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-413"><a href="#cb31-413" aria-hidden="true" tabindex="-1"></a>The Kaiser-Meyer-Olkin (KMO) measure of sampling adequacy compares the variable correlations to the partial correlations in the data. The test measures sampling adequacy for each variable in the model and for the complete model.^<span class="co">[</span><span class="ot">See [Statistics How-to](https://www.statisticshowto.com/kaiser-meyer-olkin/).</span><span class="co">]</span> </span>
<span id="cb31-414"><a href="#cb31-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-415"><a href="#cb31-415" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-416"><a href="#cb31-416" aria-hidden="true" tabindex="-1"></a>\text{KMO}_j = \frac{\sum_{i \ne j}r_{ij}^2}{\sum_{i \ne j}r_{ij}^2 + \sum_{i \ne j} u}</span>
<span id="cb31-417"><a href="#cb31-417" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-418"><a href="#cb31-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-419"><a href="#cb31-419" aria-hidden="true" tabindex="-1"></a>where $r_{ij}$ are correlations, and $u_{ij}$ are partial covariances. Scores range from 0 to 1. Values should be at least .6 to justify a PCA. Values over .8 are preferable.</span>
<span id="cb31-420"><a href="#cb31-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-423"><a href="#cb31-423" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-424"><a href="#cb31-424" aria-hidden="true" tabindex="-1"></a>EFAtools<span class="sc">::</span><span class="fu">KMO</span>(corr_mtrx)</span>
<span id="cb31-425"><a href="#cb31-425" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-426"><a href="#cb31-426" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-427"><a href="#cb31-427" aria-hidden="true" tabindex="-1"></a>Bartlett's test of sphericity tests the null hypothesis that the correlation matrix is an identity matrix, i.e., there are no correlations between any variables.</span>
<span id="cb31-428"><a href="#cb31-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-431"><a href="#cb31-431" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-432"><a href="#cb31-432" aria-hidden="true" tabindex="-1"></a>EFAtools<span class="sc">::</span><span class="fu">BARTLETT</span>(corr_mtrx, <span class="at">N =</span> <span class="fu">nrow</span>(pca_dat))</span>
<span id="cb31-433"><a href="#cb31-433" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-434"><a href="#cb31-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-435"><a href="#cb31-435" aria-hidden="true" tabindex="-1"></a><span class="fu">## Perform PCA</span></span>
<span id="cb31-436"><a href="#cb31-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-437"><a href="#cb31-437" aria-hidden="true" tabindex="-1"></a>There are two stats package functions for PCA, <span class="in">`princomp()`</span> and <span class="in">`prcomp()`</span>. The documentation suggests <span class="in">`prcomp()`</span> is preferable. </span>
<span id="cb31-438"><a href="#cb31-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-441"><a href="#cb31-441" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-442"><a href="#cb31-442" aria-hidden="true" tabindex="-1"></a>pca_result <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(pca_numeric, <span class="at">center =</span> <span class="cn">TRUE</span>, <span class="at">scale. =</span> <span class="cn">TRUE</span>)</span>
<span id="cb31-443"><a href="#cb31-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-444"><a href="#cb31-444" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(pca_result)</span>
<span id="cb31-445"><a href="#cb31-445" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-446"><a href="#cb31-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-447"><a href="#cb31-447" aria-hidden="true" tabindex="-1"></a>The top 4 components account for 60% of the variance. Subsequent components add less than 4% of explanatory power. The *component loadings* show how they relate to each column. Loadings are the eigenvectors of the covariance matrix. They are in the <span class="in">`rotatation`</span> object returned by <span class="in">`prcomp()`</span>. You should scale them by standard deviations. </span>
<span id="cb31-448"><a href="#cb31-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-451"><a href="#cb31-451" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-452"><a href="#cb31-452" aria-hidden="true" tabindex="-1"></a>pca_loadings <span class="ot">&lt;-</span> pca_result<span class="sc">$</span>rotation <span class="sc">%*%</span> <span class="fu">diag</span>(pca_result<span class="sc">$</span>sdev)</span>
<span id="cb31-453"><a href="#cb31-453" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-454"><a href="#cb31-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-455"><a href="#cb31-455" aria-hidden="true" tabindex="-1"></a>Here are the loadings from the top 8 components.</span>
<span id="cb31-456"><a href="#cb31-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-459"><a href="#cb31-459" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-460"><a href="#cb31-460" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb31-461"><a href="#cb31-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-462"><a href="#cb31-462" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(pca_loadings) <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"pc"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>)</span>
<span id="cb31-463"><a href="#cb31-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-464"><a href="#cb31-464" aria-hidden="true" tabindex="-1"></a>pca_loadings <span class="sc">|&gt;</span></span>
<span id="cb31-465"><a href="#cb31-465" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="at">rownames =</span> <span class="st">"Q"</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-466"><a href="#cb31-466" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Area =</span> <span class="fu">case_when</span>(</span>
<span id="cb31-467"><a href="#cb31-467" aria-hidden="true" tabindex="-1"></a>    Q <span class="sc">%in%</span> q_motivation <span class="sc">~</span> <span class="st">"Motivation"</span>,</span>
<span id="cb31-468"><a href="#cb31-468" aria-hidden="true" tabindex="-1"></a>    Q <span class="sc">%in%</span> q_dependability <span class="sc">~</span> <span class="st">"Dependability"</span>,</span>
<span id="cb31-469"><a href="#cb31-469" aria-hidden="true" tabindex="-1"></a>    Q <span class="sc">%in%</span> q_enthusiasm <span class="sc">~</span> <span class="st">"Enthusiasm"</span>,</span>
<span id="cb31-470"><a href="#cb31-470" aria-hidden="true" tabindex="-1"></a>    Q <span class="sc">%in%</span> q_commitment <span class="sc">~</span> <span class="st">"Commitment"</span></span>
<span id="cb31-471"><a href="#cb31-471" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb31-472"><a href="#cb31-472" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Area, Q, pc1<span class="sc">:</span>pc8) <span class="sc">|&gt;</span></span>
<span id="cb31-473"><a href="#cb31-473" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Area, Q) <span class="sc">|&gt;</span></span>
<span id="cb31-474"><a href="#cb31-474" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb31-475"><a href="#cb31-475" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">fmt_number</span>(pc1<span class="sc">:</span>pc8, <span class="at">decimals =</span> <span class="dv">3</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-476"><a href="#cb31-476" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">data_color</span>(</span>
<span id="cb31-477"><a href="#cb31-477" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> pc1<span class="sc">:</span>pc8, </span>
<span id="cb31-478"><a href="#cb31-478" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"numeric"</span>,</span>
<span id="cb31-479"><a href="#cb31-479" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">"firebrick"</span>, <span class="st">"white"</span>, <span class="st">"dodgerblue3"</span>),</span>
<span id="cb31-480"><a href="#cb31-480" aria-hidden="true" tabindex="-1"></a>    <span class="at">domain =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb31-481"><a href="#cb31-481" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb31-482"><a href="#cb31-482" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">tab_row_group</span>(<span class="at">label =</span> <span class="st">"Commitment"</span>, <span class="at">rows =</span> Area <span class="sc">==</span> <span class="st">"Commitment"</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-483"><a href="#cb31-483" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">tab_row_group</span>(<span class="at">label =</span> <span class="st">"Enthusiasm"</span>, <span class="at">rows =</span> Area <span class="sc">==</span> <span class="st">"Enthusiasm"</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-484"><a href="#cb31-484" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">tab_row_group</span>(<span class="at">label =</span> <span class="st">"Dependability"</span>, <span class="at">rows =</span> Area <span class="sc">==</span> <span class="st">"Dependability"</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-485"><a href="#cb31-485" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">tab_row_group</span>(<span class="at">label =</span> <span class="st">"Motivation"</span>, <span class="at">rows =</span> Area <span class="sc">==</span> <span class="st">"Motivation"</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-486"><a href="#cb31-486" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">cols_hide</span>(<span class="at">columns =</span> Area) <span class="sc">|&gt;</span></span>
<span id="cb31-487"><a href="#cb31-487" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">tab_header</span>(<span class="st">"Factor loadings by survey area."</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-488"><a href="#cb31-488" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">tab_options</span>(<span class="at">heading.align =</span> <span class="st">"left"</span>)</span>
<span id="cb31-489"><a href="#cb31-489" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-490"><a href="#cb31-490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-491"><a href="#cb31-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-494"><a href="#cb31-494" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-495"><a href="#cb31-495" aria-hidden="true" tabindex="-1"></a><span class="fu">biplot</span>(pca_result, <span class="at">scale =</span> <span class="dv">0</span>)</span>
<span id="cb31-496"><a href="#cb31-496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-497"><a href="#cb31-497" aria-hidden="true" tabindex="-1"></a>pca_result<span class="sc">$</span>sdev<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> <span class="fu">sum</span>(pca_result<span class="sc">$</span>sdev<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb31-498"><a href="#cb31-498" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-499"><a href="#cb31-499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-500"><a href="#cb31-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-501"><a href="#cb31-501" aria-hidden="true" tabindex="-1"></a>The communality is the proportion of each variable's variance that is accounted for by the principal components analysis and can also be expressed as a percentage. </span>
<span id="cb31-502"><a href="#cb31-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-503"><a href="#cb31-503" aria-hidden="true" tabindex="-1"></a>A principal components analysis will produce as many components as there are variables. However, the purpose of principal components analysis is to explain as much of the variance in your variables as possible using as few components as possible. After you have extracted your components, there are four major criteria that can help you decide on the number of components to retain: (a) the eigenvalue-one criterion, (b) the proportion of total variance accounted for, (c) the scree plot test, and (d) the interpretability criterion. All except for the first criterion will require some degree of subjective analysis. </span>
<span id="cb31-504"><a href="#cb31-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-505"><a href="#cb31-505" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-506"><a href="#cb31-506" aria-hidden="true" tabindex="-1"></a><span class="fu">## Appendix: Eigenvectors</span></span>
<span id="cb31-507"><a href="#cb31-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-508"><a href="#cb31-508" aria-hidden="true" tabindex="-1"></a>A square matrix, $\textbf{A}$, can be decomposed into eigenvalues, $\lambda$, and eigenvectors, $\textbf{v}$.^<span class="co">[</span><span class="ot">Took these notes from [Math is Fun](https://www.mathsisfun.com/algebra/eigenvalue.html).</span><span class="co">]</span></span>
<span id="cb31-509"><a href="#cb31-509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-510"><a href="#cb31-510" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-511"><a href="#cb31-511" aria-hidden="true" tabindex="-1"></a>\textbf{A} \textbf{v} = \lambda \textbf{v}</span>
<span id="cb31-512"><a href="#cb31-512" aria-hidden="true" tabindex="-1"></a>$$ {#eq-eigen1}</span>
<span id="cb31-513"><a href="#cb31-513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-514"><a href="#cb31-514" aria-hidden="true" tabindex="-1"></a>For example, $6$ and $\begin{bmatrix}1 <span class="sc">\\</span> 4 \end{bmatrix}$ are an eigenvalue and eigenvector here:</span>
<span id="cb31-515"><a href="#cb31-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-516"><a href="#cb31-516" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-517"><a href="#cb31-517" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix} -6 &amp; 3 <span class="sc">\\</span> 4 &amp; 5 \end{bmatrix} \begin{bmatrix}1 <span class="sc">\\</span> 4 \end{bmatrix} = 6 \begin{bmatrix}1 <span class="sc">\\</span> 4 \end{bmatrix}</span>
<span id="cb31-518"><a href="#cb31-518" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-519"><a href="#cb31-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-520"><a href="#cb31-520" aria-hidden="true" tabindex="-1"></a>@eq-eigen1 can be re-expressed as $\textbf{A} \textbf{v} - \lambda \textbf{I} \textbf{v} = 0.$ For $\textbf{v}$ to be non-zero, the determinant must be zero, </span>
<span id="cb31-521"><a href="#cb31-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-522"><a href="#cb31-522" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-523"><a href="#cb31-523" aria-hidden="true" tabindex="-1"></a>| \textbf{A} - \lambda \textbf{I}| = 0</span>
<span id="cb31-524"><a href="#cb31-524" aria-hidden="true" tabindex="-1"></a>$$ {#eq-eigen2}</span>
<span id="cb31-525"><a href="#cb31-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-526"><a href="#cb31-526" aria-hidden="true" tabindex="-1"></a>Back to the example, use @eq-eigen2 to find possible eigenvalues.</span>
<span id="cb31-527"><a href="#cb31-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-528"><a href="#cb31-528" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-529"><a href="#cb31-529" aria-hidden="true" tabindex="-1"></a>\left| \begin{bmatrix} -6 &amp; 3 <span class="sc">\\</span> 4 &amp; 5 \end{bmatrix} - \lambda \begin{bmatrix} 1 &amp; 0 <span class="sc">\\</span> 0 &amp; 1 \end{bmatrix} \right| = 0</span>
<span id="cb31-530"><a href="#cb31-530" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-531"><a href="#cb31-531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-532"><a href="#cb31-532" aria-hidden="true" tabindex="-1"></a>Subtract the matrices and calculate the determinant, $(-6 - \lambda)(5 - \lambda) - 3 \times 4 = 0,$ then solve for $\lambda = -7 \text{ or } 6.$ Now that you have the possible eigenvalues, plug them back into Equation \@ref(eq:eigen1). For $\lambda = 6$ you have</span>
<span id="cb31-533"><a href="#cb31-533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-534"><a href="#cb31-534" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-535"><a href="#cb31-535" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix} -6 &amp; 3 <span class="sc">\\</span> 4 &amp; 5 \end{bmatrix} \begin{bmatrix}x <span class="sc">\\</span> y \end{bmatrix} = 6 \begin{bmatrix}x <span class="sc">\\</span> y \end{bmatrix}</span>
<span id="cb31-536"><a href="#cb31-536" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb31-537"><a href="#cb31-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-538"><a href="#cb31-538" aria-hidden="true" tabindex="-1"></a>Solving the system of equations reveals that $y = 4x$. So $\begin{bmatrix}1 <span class="sc">\\</span> 4 \end{bmatrix}$ is a solution. You can do the same exercise for $\lambda = -7$.</span>
<span id="cb31-539"><a href="#cb31-539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-540"><a href="#cb31-540" aria-hidden="true" tabindex="-1"></a>Eigenvectors and eigenvalues are useful because matrices are used to make transformations in space. In transformations, the eigenvector is the axis of rotation, the direction that does not change, and the eigenvalue is the scale of the stretch (1 = no change, 2 = double length, -1 = point backwards, etc.).</span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>